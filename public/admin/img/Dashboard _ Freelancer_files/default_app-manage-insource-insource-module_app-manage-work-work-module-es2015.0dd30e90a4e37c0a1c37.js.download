(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"/tL6":function(e,t,c){"use strict";c.d(t,"a",function(){return b});var i=c("SVse"),n=c("EXHp"),a=c("ijPD"),o=c("18b0"),l=c("cokP"),s=c("HRo3"),r=c("8Y7J");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({imports:[[i.c,n.a,a.a,s.a,o.a,l.a]]}),e})()},"25G/":function(e,t,c){"use strict";c.d(t,"a",function(){return Me});var i=c("ZBue"),n=c("unig"),a=c("9Aot"),o=c("xsV1"),l=c("Rnop"),s=c("o9eT"),r=c("f6cb"),b=c("ueDg"),u=c("FPmO"),d=c("2Vo4"),p=c("LRne"),f=c("itXk"),m=c("lJxs"),g=c("/uUt"),h=c("vkgz"),T=c("JX91"),P=c("eDZp"),I=c("8Y7J"),z=c("B0Fo"),A=c("eCtd"),y=c("iInd"),j=c("DsW6"),S=c("SVse"),C=c("l3jN"),O=c("w13q"),$=c("SMHo"),E=c("SZ6u"),M=c("EJ97"),w=c("+RVK"),R=c("pZRy"),v=c("3+Jx"),L=c("3S66"),x=c("U99T"),D=c("LYcv"),B=c("al+g");function Z(e,t){if(1&e&&I.Tb(0,"app-manage-project-title",20),2&e){const e=I.rc(2).$implicit,t=I.rc(3);I.zc("projectId",e.project.id)("recruiter",e.recruiter)("seoUrl",e.project.seoUrl)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("tableType",t.ManageTableType.PROJECT)("title",e.project.title)}}function N(e,t){if(1&e&&I.Tb(0,"app-manage-username",21),2&e){const e=I.rc(2).$implicit,t=I.rc(3);I.zc("flShowMobile",!0)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("userId",e.employer.id)("username",e.employer.username)}}function G(e,t){if(1&e&&(I.Wb(0),I.Zc(1,Z,1,7,"app-manage-project-title",18),I.Zc(2,N,1,5,"app-manage-username",19),I.Vb()),2&e){const e=I.rc().$implicit;I.rc(2);const t=I.Mc(4);I.Gb(1),I.zc("ngIf",e.project)("ngIfElse",t),I.Gb(1),I.zc("ngIf",e.employer)}}function X(e,t){if(1&e&&(I.Yb(0,"fl-text",23),I.cc(1,24),I.Xb()),2&e){const e=I.rc(2).$implicit,t=I.rc(3);I.zc("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL),I.Gb(1),I.gc(e.employer.username),I.dc(1)}}function W(e,t){if(1&e&&I.Zc(0,X,2,3,"fl-text",22),2&e){const e=I.rc().$implicit;I.rc(2);const t=I.Mc(4);I.zc("ngIf",e.employer)("ngIfElse",t)}}function k(e,t){if(1&e&&(I.Zc(0,G,3,3,"ng-container",0),I.Zc(1,W,1,2,"ng-template",null,17,I.ad)),2&e){const e=t.$implicit,c=I.Mc(2);I.zc("ngIf",!e.projectDeleted)("ngIfElse",c)}}function H(e,t){if(1&e&&I.Tb(0,"app-manage-username",27),2&e){const e=I.rc().$implicit;I.zc("userId",e.employer.id)("username",e.employer.username)}}function _(e,t){if(1&e&&I.Zc(0,H,1,2,"app-manage-username",26),2&e){const e=t.$implicit;I.rc(3);const c=I.Mc(4);I.zc("ngIf",e.employer)("ngIfElse",c)}}function V(e,t){if(1&e&&(I.Yb(0,"fl-table-col",25),I.Zc(1,_,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)}}function Y(e,t){if(1&e&&I.Tb(0,"app-manage-username",27),2&e){const e=I.rc().$implicit;I.zc("userId",e.employer.id)("username",e.employer.username)}}function F(e,t){if(1&e&&I.Zc(0,Y,1,2,"app-manage-username",26),2&e){const e=t.$implicit;I.rc(3);const c=I.Mc(4);I.zc("ngIf",e.employer)("ngIfElse",c)}}function U(e,t){if(1&e&&(I.Yb(0,"fl-table-col",28),I.Zc(1,F,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)}}function J(e,t){if(1&e&&I.Tb(0,"app-manage-currency",32),2&e){const e=I.rc(2).$implicit,t=I.rc(4);I.zc("amount",e.bidAmount)("currencyCode",e.project.currency.code)("hourly",e.project.type===t.ProjectTypeApi.HOURLY)}}function q(e,t){if(1&e&&(I.Wb(0),I.Zc(1,J,1,3,"app-manage-currency",31),I.Vb()),2&e){const e=I.rc().$implicit;I.rc(3);const t=I.Mc(4);I.Gb(1),I.zc("ngIf",e.project)("ngIfElse",t)}}function K(e,t){1&e&&I.Zc(0,q,2,2,"ng-container",30),2&e&&I.zc("ngIf",!t.$implicit.projectDeleted)}function Q(e,t){if(1&e&&(I.Yb(0,"fl-table-col",29),I.Zc(1,K,1,1,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)("gridWidth",2)}}function ee(e,t){if(1&e&&(I.Yb(0,"fl-bit",35),I.sc(1,"flAsync"),I.Wb(2),I.cc(3,36),I.Vb(),I.Tb(4,"fl-relative-time",37),I.Xb()),2&e){const e=I.rc().$implicit,t=I.rc(3);I.zc("flHideDesktop",!0)("flHideTablet",I.tc(1,5,t.isInsource$)),I.Gb(4),I.zc("date",e.timeAccepted)("live",!1)("size",t.TextSize.XXSMALL)}}function te(e,t){if(1&e&&(I.Tb(0,"fl-relative-time",33),I.Zc(1,ee,5,7,"fl-bit",34)),2&e){const e=t.$implicit,c=I.rc(3);I.zc("color",c.FontColor.DARK)("date",e.timeAccepted)("flHideMobile",!0)("live",!1)("size",c.TextSize.XSMALL),I.Gb(1),I.zc("ngIf",e.timeAccepted)}}function ce(e,t){if(1&e&&I.Tb(0,"fl-relative-time",40),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("color",t.FontColor.DARK)("date",e.closeTime)("live",!1)("size",t.TextSize.XSMALL)}}function ie(e,t){1&e&&I.Zc(0,ce,1,4,"fl-relative-time",39),2&e&&I.zc("ngIf",t.$implicit.closeTime)}function ne(e,t){if(1&e&&(I.Yb(0,"fl-table-col",38),I.Zc(1,ie,1,1,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.TOP)("gridWidth",2)("flHideMobile",!0)}}function ae(e,t){if(1&e&&I.Tb(0,"app-manage-milestone",43),2&e){const e=I.rc(2).$implicit;I.zc("amount",e.milestoneAmount)("currencyCode",e.project.currency.code)}}function oe(e,t){if(1&e&&(I.Wb(0),I.Zc(1,ae,1,2,"app-manage-milestone",42),I.Vb()),2&e){const e=I.rc().$implicit;I.rc(3);const t=I.Mc(4);I.Gb(1),I.zc("ngIf",e.project)("ngIfElse",t)}}function le(e,t){1&e&&I.Zc(0,oe,2,2,"ng-container",30),2&e&&I.zc("ngIf",!t.$implicit.projectDeleted)}function se(e,t){if(1&e&&(I.Yb(0,"fl-table-col",41),I.Zc(1,le,1,1,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_RIGHT)("flHideTablet",!0)("gridWidth",3)}}function re(e,t){if(1&e&&I.Tb(0,"app-manage-milestone",43),2&e){const e=I.rc(2).$implicit;I.zc("amount",e.milestoneAmount)("currencyCode",e.project.currency.code)}}function be(e,t){if(1&e&&(I.Wb(0),I.Zc(1,re,1,2,"app-manage-milestone",42),I.Vb()),2&e){const e=I.rc().$implicit;I.rc(3);const t=I.Mc(4);I.Gb(1),I.zc("ngIf",e.project)("ngIfElse",t)}}function ue(e,t){1&e&&I.Zc(0,be,2,2,"ng-container",30),2&e&&I.zc("ngIf",!t.$implicit.projectDeleted)}function de(e,t){if(1&e&&(I.Yb(0,"fl-table-col",44),I.Zc(1,ue,1,1,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.HIDE_COLUMN)("flHideDesktop",!0)("flHideMobile",!0)}}function pe(e,t){1&e&&(I.Wb(0),I.cc(1,49),I.Vb())}function fe(e,t){1&e&&(I.Wb(0),I.cc(1,50),I.Vb())}function me(e,t){1&e&&(I.Wb(0),I.cc(1,51),I.Vb())}function ge(e,t){1&e&&(I.Wb(0),I.cc(1,52),I.Vb())}function he(e,t){1&e&&(I.Wb(0),I.cc(1,53),I.Vb())}function Te(e,t){1&e&&(I.Wb(0),I.cc(1,54),I.Vb())}function Pe(e,t){if(1&e&&(I.Yb(0,"fl-text",47),I.Zc(1,pe,2,0,"ng-container",48),I.Zc(2,fe,2,0,"ng-container",48),I.Zc(3,me,2,0,"ng-container",48),I.Zc(4,ge,2,0,"ng-container",48),I.Zc(5,he,2,0,"ng-container",48),I.Zc(6,Te,2,0,"ng-container",48),I.Xb()),2&e){const e=I.rc(2).$implicit,t=I.rc(3);I.zc("ngSwitch",e.bidStatus),I.Gb(1),I.zc("ngSwitchCase",t.COMPLETE),I.Gb(1),I.zc("ngSwitchCase",t.INCOMPLETE),I.Gb(1),I.zc("ngSwitchCase",t.REJECTED),I.Gb(1),I.zc("ngSwitchCase",t.REVOKED),I.Gb(1),I.zc("ngSwitchCase",t.CANCELED),I.Gb(1),I.zc("ngSwitchCase",t.EXPIRED)}}function Ie(e,t){if(1&e&&(I.Wb(0),I.Zc(1,Pe,7,7,"fl-text",46),I.Vb()),2&e){const e=I.rc().$implicit;I.rc(2);const t=I.Mc(4);I.Gb(1),I.zc("ngIf",e.project)("ngIfElse",t)}}function ze(e,t){1&e&&(I.Yb(0,"fl-text",55),I.cc(1,56),I.Xb())}function Ae(e,t){if(1&e&&(I.Zc(0,Ie,2,2,"ng-container",0),I.Zc(1,ze,2,0,"ng-template",null,45,I.ad)),2&e){const e=t.$implicit,c=I.Mc(2);I.zc("ngIf",!e.projectDeleted)("ngIfElse",c)}}function ye(e,t){if(1&e){const e=I.Zb();I.Yb(0,"fl-table",6),I.nc("pageSelected",function(t){return I.Pc(e),I.rc(2).handlePageSelected(t)}),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Yb(3,"fl-table-col",7),I.Zc(4,k,3,2,"ng-template",null,8,I.ad),I.Xb(),I.Zc(6,V,3,1,"fl-table-col",9),I.sc(7,"flAsync"),I.Zc(8,U,3,1,"fl-table-col",10),I.sc(9,"flAsync"),I.Zc(10,Q,3,2,"fl-table-col",11),I.sc(11,"flAsync"),I.Yb(12,"fl-table-col",12),I.sc(13,"flAsync"),I.Zc(14,te,2,6,"ng-template",null,8,I.ad),I.Xb(),I.Zc(16,ne,3,3,"fl-table-col",13),I.sc(17,"flAsync"),I.Zc(18,se,3,3,"fl-table-col",14),I.sc(19,"flAsync"),I.Zc(20,de,3,3,"fl-table-col",15),I.sc(21,"flAsync"),I.Yb(22,"fl-table-col",16),I.Zc(23,Ae,3,2,"ng-template",null,8,I.ad),I.Xb(),I.Tb(25,"fl-table-expandable-content"),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc();I.zc("compactPagination",!0)("dataSource",e)("expandable",!0)("expandableBodyCompact",!0)("flMarginBottom",t.Margin.SMALL)("initialPage",I.tc(1,23,t.currentPage$))("itemsPerPage",I.tc(2,25,t.itemsPerPage$))("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",4),I.Gb(3),I.zc("ngIf",!I.tc(7,27,t.isInsource$)),I.Gb(2),I.zc("ngIf",I.tc(9,29,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(11,31,t.isInsource$)),I.Gb(2),I.zc("columnPlacement",t.ResponsiveColumnPlacement.TOP)("flHideTablet",!I.tc(13,33,t.isInsource$))("gridWidth",2),I.Gb(4),I.zc("ngIf",I.tc(17,35,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(19,37,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(21,39,t.isInsource$)),I.Gb(2),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_LEFT)}}function je(e,t){1&e&&I.Tb(0,"fl-loading-text",57),2&e&&I.zc("rows",1)("padded",!1)}function Se(e,t){if(1&e&&(I.Tb(0,"app-manage-empty-table",58),I.sc(1,"flAsync")),2&e){const e=I.rc(2);I.zc("isInsource",I.tc(1,4,e.isInsource$))("tableType",e.ManageTableType.PROJECT)("projectType",e.ManageTableView.PAST)("viewType",e.ManageViewType.FREELANCER)}}function Ce(e,t){if(1&e&&(I.Wb(0),I.Yb(1,"fl-bit"),I.Zc(2,ye,26,41,"fl-table",3),I.Zc(3,je,1,2,"ng-template",null,4,I.ad),I.Zc(5,Se,2,6,"ng-template",null,5,I.ad),I.Xb(),I.Vb()),2&e){const e=t.ngIf,c=I.Mc(6);I.Gb(2),I.zc("ngIf",e.length>0)("ngIfElse",c)}}const Oe=function(e,t,c){return[e,t,c]};function $e(e,t){if(1&e&&(I.Tb(0,"app-manage-loading-table",59),I.sc(1,"flAsync"),I.sc(2,"flAsync")),2&e){const e=I.rc();let t=null;I.zc("columnPlacement",I.Gc(8,Oe,e.ResponsiveColumnPlacement.TOP,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("error",null==(t=I.tc(1,4,e.viewStatus$))?null:t.error)("columns",e.columns)("rows",I.tc(2,6,e.itemsPerPage$))}}const Ee=function(e,t){return[e,t]};let Me=(()=>{class e{constructor(e,t,c,i){this.anchorScroll=e,this.datastore=t,this.route=c,this.tracking=i,this.FontColor=l.a,this.FontType=s.b,this.ManageTableType=u.d,this.ManageTableView=u.e,this.ManageViewType=u.f,this.Margin=a.a,this.ProjectTypeApi=b.ProjectTypeApi,this.ResponsiveColumnPlacement=o.a,this.TableColumnPaddingSize=o.c,this.TablePaginationPosition=o.h,this.TextSize=s.f,this.COMPLETE="complete",this.INCOMPLETE="incomplete",this.REJECTED="rejected",this.REVOKED="revoked",this.CANCELED="canceled",this.EXPIRED="expired",this.currentPageSubject$=new d.a(1),this.columns=[4,void 0,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.isInsource$=this.route.parent?this.route.parent.data.pipe(Object(m.a)(e=>!!e.insource)):p.a(!1),this.currentPage$=Object(r.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(m.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(g.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=f.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(m.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(P.b)(t+u.g,u.h)*this.filterShowUrlParam(e.get("show")))),Object(g.a)(),Object(h.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new d.a(u.a*u.h);const e=f.a([this.route.queryParams,this.isInsource$]).pipe(Object(m.a)(([{query:e,filter:t},c])=>({query:e||"",filter:c?u.c.TOKEN:u.l.includes(t)?t:u.c.ALL})),Object(h.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewPastBids",t=>t.search(e).limit(this.limit$));this.viewStatus$=t.status$;const c=t.valueChanges();this.projects=this.datastore.collection("projects",c.pipe(Object(i.a)(),Object(m.a)(e=>e.filter(e=>!e.projectDeleted)),Object(n.a)("projectId")));const a=this.projects.valueChanges();this.employers=this.datastore.collection("users",c.pipe(Object(i.a)(),Object(n.a)("employerId")));const o=this.employers.valueChanges();this.manageViewBids$=f.a([c,a.pipe(Object(T.a)([])),o.pipe(Object(T.a)([]))]).pipe(Object(m.a)(([e,t,c])=>e.map(e=>Object.assign(Object.assign({},e),{project:t.find(t=>t.id===e.projectId),employer:c.find(t=>t.id===e.employerId)}))))}handlePageSelected(e){this.tracking.trackCustomEvent("ManagePastProjectsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:u.b,onlyIfNeeded:!0})}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(r.s)(u.k.find(t=>t===e)))&&void 0!==t?t:u.a}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(z.a),I.Sb(A.a),I.Sb(y.a),I.Sb(j.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:6,vars:10,consts:function(){let e,t,c,i,n,a,o,l,s,r,b,u,d,p,f,m,g,h;return e="Project Name",t="Client",c="Posted By",i="Awarded Bid",n="Project Awarded",a="Project Closed",o="Released Milestones",l="Milestones",s="Outcome",r=" Deleted project by @" + "\ufffd0\ufffd" + " ",b=" Awarded ",u=" Complete ",d=" Incomplete ",p=" Award Rejected ",f=" Award Revoked ",m=" Cancelled ",g=" Expired ",h=" Deleted ",[[4,"ngIf","ngIfElse"],["loadingTable",""],[3,"collectionStatuses"],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["loadingText",""],["emptyTable",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],["title",e,3,"columnPlacement","gridWidth"],["cell",""],["title",t,3,"columnPlacement",4,"ngIf"],["title",c,3,"columnPlacement",4,"ngIf"],["title",i,3,"columnPlacement","gridWidth",4,"ngIf"],["title",n,3,"columnPlacement","flHideTablet","gridWidth"],["title",a,3,"columnPlacement","gridWidth","flHideMobile",4,"ngIf"],["title",o,3,"columnPlacement","flHideTablet","gridWidth",4,"ngIf"],["title",l,3,"columnPlacement","flHideDesktop","flHideMobile",4,"ngIf"],["title",s,3,"columnPlacement"],["deletedTitle",""],[3,"projectId","recruiter","seoUrl","size","sizeTablet","tableType","title",4,"ngIf","ngIfElse"],[3,"flShowMobile","size","sizeTablet","userId","username",4,"ngIf"],[3,"projectId","recruiter","seoUrl","size","sizeTablet","tableType","title"],[3,"flShowMobile","size","sizeTablet","userId","username"],[3,"size","sizeTablet",4,"ngIf","ngIfElse"],[3,"size","sizeTablet"],r,["title",t,3,"columnPlacement"],[3,"userId","username",4,"ngIf","ngIfElse"],[3,"userId","username"],["title",c,3,"columnPlacement"],["title",i,3,"columnPlacement","gridWidth"],[4,"ngIf"],[3,"amount","currencyCode","hourly",4,"ngIf","ngIfElse"],[3,"amount","currencyCode","hourly"],[3,"color","date","flHideMobile","live","size"],[3,"flHideDesktop","flHideTablet",4,"ngIf"],[3,"flHideDesktop","flHideTablet"],b,[3,"date","live","size"],["title",a,3,"columnPlacement","gridWidth","flHideMobile"],[3,"color","date","live","size",4,"ngIf"],[3,"color","date","live","size"],["title",o,3,"columnPlacement","flHideTablet","gridWidth"],[3,"amount","currencyCode",4,"ngIf","ngIfElse"],[3,"amount","currencyCode"],["title",l,3,"columnPlacement","flHideDesktop","flHideMobile"],["projectDeleted",""],["class","Outcome",3,"ngSwitch",4,"ngIf","ngIfElse"],[1,"Outcome",3,"ngSwitch"],[4,"ngSwitchCase"],u,d,p,f,m,g,[1,"Outcome"],h,[3,"rows","padded"],[3,"isInsource","tableType","projectType","viewType"],[3,"columnPlacement","error","columns","rows"]]},template:function(e,t){if(1&e&&(I.Zc(0,Ce,7,2,"ng-container",0),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Zc(3,$e,3,12,"ng-template",null,1,I.ad),I.Tb(5,"app-manage-error-toast",2)),2&e){const e=I.Mc(4);let c=null;I.zc("ngIf",(null==(c=I.tc(1,3,t.viewStatus$))?null:c.ready)&&I.tc(2,5,t.manageViewBids$))("ngIfElse",e),I.Gb(5),I.zc("collectionStatuses",I.Fc(7,Ee,t.projects.status$,t.employers.status$))}},directives:[S.q,C.a,O.a,o.e,a.b,o.b,$.a,o.g,E.a,M.a,s.e,w.a,R.b,v.a,S.s,S.t,L.a,x.a,D.a],pipes:[B.a],styles:[".Outcome[_ngcontent-%COMP%]{white-space:nowrap}"]}),e})()},"B9/e":function(e,t,c){"use strict";c.d(t,"a",function(){return i}),c.d(t,"b",function(){return n});var i=function(e){return e.EDIT_BID="Edit",e.CHAT="Chat",e.UPGRADE_BID="Upgrade",e.RETRACT_BID="Retract",e.ACCEPT_AWARD="Accept",e.REJECT_AWARD="Reject",e.VIEW_MILESTONES="View Milestones",e.REQUEST_MILESTONE="Request Milestone",e.VIEW_PROPOSAL="View Proposal",e}({}),n=function(e){return e[e.CONFIRM_ACCEPT_AWARD=0]="CONFIRM_ACCEPT_AWARD",e[e.CONFIRM_RETRACT_BID=1]="CONFIRM_RETRACT_BID",e}({})},S567:function(e,t,c){"use strict";c.d(t,"a",function(){return Pe});var i=c("unig"),n=c("dO68"),a=c("9Aot"),o=c("xsV1"),l=c("Rnop"),s=c("o9eT"),r=c("f6cb"),b=c("ueDg"),u=c("FPmO"),d=c("2Vo4"),p=c("LRne"),f=c("itXk"),m=c("lJxs"),g=c("/uUt"),h=c("vkgz"),T=c("JX91"),P=c("eDZp"),I=c("8Y7J"),z=c("B0Fo"),A=c("eCtd"),y=c("iInd"),j=c("DsW6"),S=c("SVse"),C=c("l3jN"),O=c("w13q"),$=c("SMHo"),E=c("SZ6u"),M=c("EJ97"),w=c("+RVK"),R=c("pZRy"),v=c("3+Jx"),L=c("WIlA"),x=c("U99T"),D=c("LYcv"),B=c("3S66"),Z=c("al+g");function N(e,t){if(1&e&&I.Tb(0,"app-manage-project-title",19),2&e){const e=I.rc().$implicit,t=I.rc(3);I.zc("projectId",e.project.id)("recruiter",e.recruiter)("seoUrl",e.project.seoUrl)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("tableType",t.ManageTableType.PROJECT)("title",e.project.title)}}function G(e,t){if(1&e&&I.Zc(0,N,1,7,"app-manage-project-title",18),2&e){const e=t.$implicit;I.rc(3);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function X(e,t){if(1&e&&I.Tb(0,"app-manage-username",22),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("userId",e.employer.id)("username",e.employer.username)}}function W(e,t){if(1&e&&I.Zc(0,X,1,4,"app-manage-username",21),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.employer)("ngIfElse",c)}}function k(e,t){if(1&e&&(I.Yb(0,"fl-table-col",20),I.Zc(1,W,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_LEFT)}}function H(e,t){if(1&e&&I.Tb(0,"app-manage-username",22),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("userId",e.employer.id)("username",e.employer.username)}}function _(e,t){if(1&e&&I.Zc(0,H,1,4,"app-manage-username",21),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.employer)("ngIfElse",c)}}function V(e,t){if(1&e&&(I.Yb(0,"fl-table-col",23),I.Zc(1,_,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_LEFT)}}function Y(e,t){if(1&e&&I.Tb(0,"app-manage-currency",26),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("amount",e.bidAmount)("currencyCode",e.project.currency.code)("hourly",e.project.type===t.ProjectTypeApi.HOURLY)("weight",t.FontWeight.BOLD)}}function F(e,t){if(1&e&&I.Zc(0,Y,1,4,"app-manage-currency",25),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function U(e,t){1&e&&(I.Yb(0,"fl-table-col",24),I.Zc(1,F,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e&&I.zc("flHideMobile",!0)}function J(e,t){1&e&&(I.Wb(0),I.cc(1,32),I.Vb())}function q(e,t){1&e&&(I.Wb(0),I.cc(1,33),I.Vb())}function K(e,t){if(1&e&&(I.Tb(0,"fl-relative-time",28),I.Yb(1,"fl-bit",29),I.Zc(2,J,2,0,"ng-container",0),I.Zc(3,q,2,0,"ng-template",null,30,I.ad),I.Tb(5,"fl-relative-time",31),I.Xb()),2&e){const e=t.$implicit,c=I.Mc(4),i=I.rc(4);I.zc("color",i.FontColor.DARK)("date",e.deadline)("flHideMobile",!0)("live",!1)("size",i.TextSize.XSMALL),I.Gb(1),I.zc("flHideDesktop",!0),I.Gb(1),I.zc("ngIf",e.deadline>i.currentTimestamp)("ngIfElse",c),I.Gb(3),I.zc("date",e.deadline)("live",!1)("size",i.TextSize.XXSMALL)}}function Q(e,t){if(1&e&&(I.Yb(0,"fl-table-col",27),I.Zc(1,K,6,11,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.TOP)("flHideTablet",!0)}}function ee(e,t){if(1&e&&I.Tb(0,"fl-relative-time",36),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("color",t.FontColor.DARK)("date",null==e.project.timeframe?null:e.project.timeframe.startDate)("live",!1)("size",t.TextSize.XSMALL)}}function te(e,t){if(1&e&&I.Zc(0,ee,1,4,"fl-relative-time",35),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function ce(e,t){if(1&e&&(I.Yb(0,"fl-table-col",34),I.Zc(1,te,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)("gridWidth",2)}}function ie(e,t){if(1&e&&I.Tb(0,"fl-relative-time",36),2&e){const e=I.rc().$implicit,t=I.rc(4);I.zc("color",t.FontColor.DARK)("date",null==e.project.timeframe?null:e.project.timeframe.endDate)("live",!1)("size",t.TextSize.XSMALL)}}function ne(e,t){if(1&e&&I.Zc(0,ie,1,4,"fl-relative-time",35),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function ae(e,t){if(1&e&&(I.Yb(0,"fl-table-col",37),I.Zc(1,ne,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)("gridWidth",2)}}function oe(e,t){if(1&e&&(I.Wb(0),I.Tb(1,"app-manage-milestone",39),I.Tb(2,"app-manage-milestone",40),I.Vb()),2&e){const e=I.rc().$implicit;I.Gb(1),I.zc("amount",e.milestoneAmount)("currencyCode",e.project.currency.code)("flHideMobile",!0)("milestoneCount",e.milestoneCount),I.Gb(1),I.zc("amount",e.milestoneAmount)("currencyCode",e.project.currency.code)("flHideDesktop",!0)}}function le(e,t){if(1&e&&I.Zc(0,oe,3,7,"ng-container",0),2&e){const e=t.$implicit;I.rc(4);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function se(e,t){if(1&e&&(I.Yb(0,"fl-table-col",38),I.Zc(1,le,1,2,"ng-template",null,8,I.ad),I.Xb()),2&e){const e=I.rc(3);I.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_RIGHT)("flHideTablet",!0)}}function re(e,t){if(1&e&&I.Tb(0,"app-manage-milestone",42),2&e){const e=I.rc().$implicit;I.zc("amount",e.milestoneAmount)("currencyCode",e.project.currency.code)("milestoneCount",e.milestoneCount)}}function be(e,t){if(1&e&&I.Zc(0,re,1,3,"app-manage-milestone",41),2&e){const e=t.$implicit;I.rc(3);const c=I.Mc(7);I.zc("ngIf",e.project)("ngIfElse",c)}}function ue(e,t){if(1&e&&I.Tb(0,"app-work-project-actions",43),2&e){const e=t.$implicit,c=I.rc(3);I.zc("bid",e)("project",e.project)("projectType",c.ManageTableView.ONGOING)("size",c.ButtonSize.SMALL)("sizeTablet",c.ButtonSize.MINI)}}function de(e,t){if(1&e){const e=I.Zb();I.Yb(0,"fl-table",6),I.nc("pageSelected",function(t){return I.Pc(e),I.rc(2).handlePageSelected(t)}),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.sc(3,"flAsync"),I.sc(4,"flAsync"),I.Yb(5,"fl-table-col",7),I.Zc(6,G,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Zc(8,k,3,1,"fl-table-col",9),I.sc(9,"flAsync"),I.Zc(10,V,3,1,"fl-table-col",10),I.sc(11,"flAsync"),I.Zc(12,U,3,1,"fl-table-col",11),I.sc(13,"flAsync"),I.Zc(14,Q,3,2,"fl-table-col",12),I.sc(15,"flAsync"),I.Zc(16,ce,3,2,"fl-table-col",13),I.sc(17,"flAsync"),I.Zc(18,ae,3,2,"fl-table-col",14),I.sc(19,"flAsync"),I.Zc(20,se,3,2,"fl-table-col",15),I.sc(21,"flAsync"),I.Yb(22,"fl-table-col",16),I.Zc(23,be,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(25,"fl-table-col",17),I.Zc(26,ue,1,5,"ng-template",null,8,I.ad),I.Xb(),I.Tb(28,"fl-table-expandable-content"),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc();I.zc("compactPagination",!0)("dataSource",e)("expandable",I.tc(1,23,t.isInsource$))("expandableBodyCompact",I.tc(2,25,t.isInsource$))("flMarginBottom",t.Margin.SMALL)("initialPage",I.tc(3,27,t.currentPage$))("itemsPerPage",I.tc(4,29,t.itemsPerPage$))("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),I.Gb(5),I.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",4),I.Gb(3),I.zc("ngIf",!I.tc(9,31,t.isInsource$)),I.Gb(2),I.zc("ngIf",I.tc(11,33,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(13,35,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(15,37,t.isInsource$)),I.Gb(2),I.zc("ngIf",I.tc(17,39,t.isInsource$)),I.Gb(2),I.zc("ngIf",I.tc(19,41,t.isInsource$)),I.Gb(2),I.zc("ngIf",!I.tc(21,43,t.isInsource$)),I.Gb(2),I.zc("flHideDesktop",!0)("flHideMobile",!0),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_ACTION)}}function pe(e,t){if(1&e&&(I.Tb(0,"app-manage-empty-table",44),I.sc(1,"flAsync")),2&e){const e=I.rc(2);I.zc("isInsource",I.tc(1,4,e.isInsource$))("projectType",e.ManageTableView.ONGOING)("tableType",e.ManageTableType.PROJECT)("viewType",e.ManageViewType.FREELANCER)}}function fe(e,t){if(1&e&&(I.Wb(0),I.Yb(1,"fl-bit"),I.Zc(2,de,29,45,"fl-table",4),I.Zc(3,pe,2,6,"ng-template",null,5,I.ad),I.Xb(),I.Vb()),2&e){const e=t.ngIf,c=I.Mc(4);I.Gb(2),I.zc("ngIf",e.length>0)("ngIfElse",c)}}const me=function(e,t,c,i){return[e,t,c,i]};function ge(e,t){if(1&e&&(I.Tb(0,"app-manage-loading-table",45),I.sc(1,"flAsync"),I.sc(2,"flAsync")),2&e){const e=I.rc();let t=null;I.zc("columnPlacement",I.Hc(8,me,e.ResponsiveColumnPlacement.TOP,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("columns",e.columns)("error",null==(t=I.tc(1,4,e.viewStatus$))?null:t.error)("rows",I.tc(2,6,e.itemsPerPage$))}}function he(e,t){1&e&&I.Tb(0,"fl-loading-text",46),2&e&&I.zc("rows",1)("padded",!1)}const Te=function(e,t){return[e,t]};let Pe=(()=>{class e{constructor(e,t,c,i){this.anchorScroll=e,this.datastore=t,this.route=c,this.tracking=i,this.ButtonSize=n.a,this.FontColor=l.a,this.FontWeight=s.c,this.ManageTableType=u.d,this.ManageTableView=u.e,this.ManageViewType=u.f,this.Margin=a.a,this.ProjectTypeApi=b.ProjectTypeApi,this.ResponsiveColumnPlacement=o.a,this.TableColumnPaddingSize=o.c,this.TablePaginationPosition=o.h,this.TextSize=s.f,this.currentTimestamp=Date.now(),this.currentPageSubject$=new d.a(1),this.columns=[4,void 0,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.isInsource$=this.route.parent?this.route.parent.data.pipe(Object(m.a)(e=>!!e.insource)):p.a(!1),this.currentPage$=Object(r.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(m.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(g.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=f.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(m.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(P.b)(t+u.g,u.h)*this.filterShowUrlParam(e.get("show")))),Object(g.a)(),Object(h.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new d.a(u.a*u.h);const e=f.a([this.route.queryParams,this.isInsource$]).pipe(Object(m.a)(([{query:e,filter:t},c])=>({query:e||"",filter:c?u.c.TOKEN:u.l.includes(t)?t:u.c.ALL})),Object(h.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewOngoingBids",t=>t.search(e).limit(this.limit$));this.viewStatus$=t.status$;const c=t.valueChanges();this.projectsCollection=this.datastore.collection("projects",c.pipe(Object(i.a)("projectId")));const n=this.projectsCollection.valueChanges();this.employersCollection=this.datastore.collection("users",c.pipe(Object(i.a)("employerId")));const a=this.employersCollection.valueChanges();this.currentWork$=f.a([c,n.pipe(Object(T.a)([])),a.pipe(Object(T.a)([]))]).pipe(Object(m.a)(([e,t,c])=>e.map(e=>Object.assign(Object.assign({},e),{project:t.find(t=>t.id===e.projectId),employer:c.find(t=>t.id===e.employerId)}))))}handlePageSelected(e){this.tracking.trackCustomEvent("ManageOngoingProjectsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:u.b,onlyIfNeeded:!0})}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(r.s)(u.k.find(t=>t===e)))&&void 0!==t?t:u.a}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(z.a),I.Sb(A.a),I.Sb(y.a),I.Sb(j.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:8,vars:10,consts:function(){let e,t,c,i,n,a,o,l,s,r,b,u;return e="Project Name",t="Client",c="Posted By",i="Awarded Bid",n="Deadline",a="Start Date",o="End Date",l="In Progress Milestones",s="Milestones",r="Actions",b=" Deadline ",u=" Deadline was ",[[4,"ngIf","ngIfElse"],["loadingTable",""],[3,"collectionStatuses"],["loadingText",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["emptyTable",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],["title",e,3,"columnPlacement","gridWidth"],["cell",""],["title",t,3,"columnPlacement",4,"ngIf"],["title",c,3,"columnPlacement",4,"ngIf"],["title",i,3,"flHideMobile",4,"ngIf"],["title",n,3,"columnPlacement","flHideTablet",4,"ngIf"],["title",a,3,"columnPlacement","gridWidth",4,"ngIf"],["title",o,3,"columnPlacement","gridWidth",4,"ngIf"],["title",l,3,"columnPlacement","flHideTablet",4,"ngIf"],["title",s,3,"flHideDesktop","flHideMobile"],["title",r,3,"columnPlacement"],[3,"projectId","recruiter","seoUrl","size","sizeTablet","tableType","title",4,"ngIf","ngIfElse"],[3,"projectId","recruiter","seoUrl","size","sizeTablet","tableType","title"],["title",t,3,"columnPlacement"],[3,"size","sizeTablet","userId","username",4,"ngIf","ngIfElse"],[3,"size","sizeTablet","userId","username"],["title",c,3,"columnPlacement"],["title",i,3,"flHideMobile"],[3,"amount","currencyCode","hourly","weight",4,"ngIf","ngIfElse"],[3,"amount","currencyCode","hourly","weight"],["title",n,3,"columnPlacement","flHideTablet"],[3,"color","date","flHideMobile","live","size"],[3,"flHideDesktop"],["pastProject",""],[3,"date","live","size"],b,u,["title",a,3,"columnPlacement","gridWidth"],[3,"color","date","live","size",4,"ngIf","ngIfElse"],[3,"color","date","live","size"],["title",o,3,"columnPlacement","gridWidth"],["title",l,3,"columnPlacement","flHideTablet"],[3,"amount","currencyCode","flHideMobile","milestoneCount"],[3,"amount","currencyCode","flHideDesktop"],[3,"amount","currencyCode","milestoneCount",4,"ngIf","ngIfElse"],[3,"amount","currencyCode","milestoneCount"],[3,"bid","project","projectType","size","sizeTablet"],[3,"isInsource","projectType","tableType","viewType"],[3,"columnPlacement","columns","error","rows"],[3,"rows","padded"]]},template:function(e,t){if(1&e&&(I.Zc(0,fe,5,2,"ng-container",0),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Zc(3,ge,3,13,"ng-template",null,1,I.ad),I.Tb(5,"app-manage-error-toast",2),I.Zc(6,he,1,2,"ng-template",null,3,I.ad)),2&e){const e=I.Mc(4);let c=null;I.zc("ngIf",(null==(c=I.tc(1,3,t.viewStatus$))?null:c.ready)&&I.tc(2,5,t.currentWork$))("ngIfElse",e),I.Gb(5),I.zc("collectionStatuses",I.Fc(7,Te,t.projectsCollection.status$,t.employersCollection.status$))}},directives:[S.q,C.a,O.a,o.e,a.b,o.b,$.a,o.g,E.a,M.a,w.a,R.b,v.a,L.a,x.a,D.a,B.a],pipes:[Z.a],encapsulation:2}),e})()},WIlA:function(e,t,c){"use strict";c.d(t,"a",function(){return B});var i=c("8Y7J"),n=c("riYv"),a=c("UlxN"),o=c("B23V"),l=c("9Aot"),s=c("4ykm"),r=c("llbA"),b=c("f6cb"),u=c("tsv4"),d=c("ueDg"),p=c("n0rP"),f=c("FPmO"),m=c("itXk"),g=c("lJxs"),h=c("IzEk"),T=c("JX91"),P=c("pLZG"),I=c("B9/e"),z=c("/wLE"),A=c("eCtd"),y=c("HEOu"),j=c("yeKy"),S=c("3A0Z"),C=c("lFOZ"),O=c("DsW6"),$=c("SVse"),E=c("7gX+"),M=c("68xK"),w=c("SMHo"),R=c("Bxc1"),v=c("al+g");function L(e,t){if(1&e&&(i.ic(0,4,1),i.Tb(1,"fl-online-indicator",8),i.sc(2,"flAsync"),i.fc()),2&e){const e=i.rc(2);i.Gb(1),i.zc("flMarginRight",e.Margin.XXSMALL)("isOnline",i.tc(2,2,e.isChatOnline$))}}function x(e,t){if(1&e&&(i.ic(0,7,1),i.Tb(1,"fl-online-indicator",8),i.sc(2,"flAsync"),i.fc()),2&e){const e=i.rc(2);i.Gb(1),i.zc("flMarginRight",e.Margin.XXSMALL)("isOnline",i.tc(2,2,e.isChatOnline$))}}function D(e,t){if(1&e){const e=i.Zb();i.Wb(0),i.Yb(1,"fl-split-button",3),i.nc("optionSelected",function(t){return i.Pc(e),i.rc().onOptionSelected(t)})("primaryClicked",function(){i.Pc(e);const c=t.ngIf;return i.rc().onOptionSelected(c[0])}),i.ic(2,4),i.Zc(3,L,3,4,"fl-online-indicator",5),i.fc(),i.Xb(),i.Yb(4,"fl-split-button",6),i.nc("optionSelected",function(t){return i.Pc(e),i.rc().onOptionSelected(t)})("primaryClicked",function(){i.Pc(e);const c=t.ngIf;return i.rc().onOptionSelected(c[0])}),i.ic(5,7),i.Zc(6,x,3,4,"fl-online-indicator",5),i.fc(),i.Xb(),i.Vb()}if(2&e){const e=t.ngIf,c=i.rc();i.Gb(1),i.zc("busy","Loading"===(null==e[0]?null:e[0].copy))("color",c.ButtonColor.DEFAULT)("display","block")("flShowMobile",!0)("options",e)("size",c.size),i.Gb(2),i.zc("ngIf",(null==e[0]?null:e[0].copy)===c.WorkProjectActions.CHAT),i.gc(null==e[0]?null:e[0].copy),i.dc(2),i.Gb(1),i.zc("busy","Loading"===(null==e[0]?null:e[0].copy))("color",c.ButtonColor.DEFAULT)("display","block")("flHideMobile",!0)("options",e)("size",c.sizeTablet),i.Gb(2),i.zc("ngIf",(null==e[0]?null:e[0].copy)===c.WorkProjectActions.CHAT),i.gc(null==e[0]?null:e[0].copy),i.dc(5)}}let B=(()=>{class e{constructor(e,t,c,n,a,s,b){this.auth=e,this.datastore=t,this.featureFlagsService=c,this.messaging=n,this.modalService=a,this.toastAlertService=s,this.tracking=b,this.ButtonColor=o.a,this.Margin=l.a,this.ToastAlertColor=r.a,this.ToastAlertType=r.b,this.WorkProjectActions=I.a,this.onActionComplete=new i.n,this.acceptAwardAction={copy:I.a.ACCEPT_AWARD},this.rejectAwardAction={copy:I.a.REJECT_AWARD},this.chatAction={copy:I.a.CHAT},this.editAction={copy:I.a.EDIT_BID},this.upgradeAction={copy:I.a.UPGRADE_BID},this.retractBidAction={copy:I.a.RETRACT_BID},this.requestMilestoneAction={copy:I.a.REQUEST_MILESTONE},this.viewMilestonesAction={copy:I.a.VIEW_MILESTONES},this.viewProposalAction={copy:I.a.VIEW_PROPOSAL},this.loadingAction=[{copy:"Loading"}]}ngOnInit(){this.userId$=this.auth.getUserId().pipe(Object(g.a)(e=>Object(b.s)(e)))}ngOnChanges(e){if(("bid"in e||"project"in e||"hasChatThread"in e)&&this.bid&&this.project){let e=[];switch(this.projectType){case f.e.OPEN:e=[this.acceptAwardAction,this.rejectAwardAction,this.chatAction,this.editAction,this.upgradeAction,this.retractBidAction].filter(e=>this.filterOpenBidActions(e));break;case f.e.ONGOING:e=(this.project.hireme?[this.chatAction,this.requestMilestoneAction,this.viewMilestonesAction]:[this.chatAction,this.viewMilestonesAction,this.requestMilestoneAction,this.viewProposalAction]).filter(e=>this.filterOngoingBidActions(e));break;default:throw new Error("Invalid Manage Project Type")}this.actions$=this.featureFlagsService.getFlag(a.b.BID_UPGRADES).pipe(Object(h.a)(1),Object(g.a)(t=>e.filter(e=>t||e.copy!==I.a.UPGRADE_BID).map(e=>this.mapActionLinks(e))),Object(T.a)(this.loadingAction)),this.bidDocument=this.datastore.document("bids",this.bid.id)}if("bid"in e&&this.bid){let e;this.bid.recruiter&&this.projectType===f.e.OPEN?(this.session$=this.datastore.collection("agentSessions",e=>e.where("sessionSourceType","==",p.SourceTypeApi.PROJECT).where("sessionSourceId","==",this.bid.projectId).where("type","==",p.SupportTypeApi.RECRUITER).where("state","==",p.AgentSessionStateApi.ASSIGNED)).valueChanges().pipe(Object(g.a)(e=>e[0])),this.agentUserId$=this.datastore.document("agents",this.session$.pipe(Object(g.a)(e=>e&&e.agentId),Object(P.a)(b.h))).valueChanges().pipe(Object(g.a)(e=>e&&e.userId)),e=this.agentUserId$):e=this.bid.employerId,this.isChatOnline$=this.datastore.document("onlineOffline",e).valueChanges().pipe(Object(g.a)(e=>e.status===n.OnlineOfflineStatusApi.ONLINE),Object(T.a)(!1))}}filterOpenBidActions(e){const t=this.bid;switch(e){case this.acceptAwardAction:case this.rejectAwardAction:return"awaiting_acceptance"===t.bidStatus||this.project.hireme;case this.chatAction:return this.project.hireme||"awaiting_acceptance"===t.bidStatus||t.recruiter||this.hasChatThread;case this.editAction:case this.retractBidAction:return!this.project.hireme&&"open"===t.bidStatus;case this.upgradeAction:return!this.project.hireme&&!this.project.isInsourceProject&&"open"===t.bidStatus;default:return!0}}filterOngoingBidActions(e){const t=this.bid;switch(e){case this.requestMilestoneAction:return 0===t.milestoneCount&&!this.project.isInsourceProject;case this.viewMilestonesAction:return!this.project.isInsourceProject;case this.viewProposalAction:return!this.project.hireme;default:return!0}}mapActionLinks(e){switch(e){case this.upgradeAction:case this.editAction:return Object.assign(Object.assign({},e),{link:`/projects/${this.project.seoUrl}/details`,linkQueryParams:{edit:"true"}});case this.viewProposalAction:return Object.assign(Object.assign({},e),{link:`/projects/${this.project.seoUrl}/proposals`});case this.requestMilestoneAction:return Object.assign(Object.assign({},e),{link:`/projects/${this.project.seoUrl}/payments`,linkQueryParams:{request_milestone:1}});case this.viewMilestonesAction:return Object.assign(Object.assign({},e),{link:`/projects/${this.project.seoUrl}/payments`});default:return e}}onOptionSelected(e){const t=e.copy;let c={};switch(t){case I.a.CHAT:this.bid.recruiter&&this.projectType===f.e.OPEN?this.chatRecruiter():this.chatEmployer(),c={project_id:this.project.id};break;case I.a.RETRACT_BID:this.modalService.open("WorkProjectActionsModal",{size:s.a.SMALL,inputs:{action:I.b.CONFIRM_RETRACT_BID,bidDocument:this.bidDocument,project:this.project}}).afterClosed().pipe(Object(h.a)(1)).toPromise().then(e=>{e&&"success"===e.status&&this.onActionComplete.emit({id:this.bid.id,retracted:!0})}),c={bid_id:this.bid.id};break;case I.a.ACCEPT_AWARD:this.modalService.open("WorkProjectActionsModal",{size:s.a.SMALL,inputs:{action:I.b.CONFIRM_ACCEPT_AWARD,bidDocument:this.bidDocument,project:this.project}}).afterClosed().pipe(Object(h.a)(1)).toPromise().then(e=>{e&&"success"===e.status&&this.onActionComplete.emit({id:this.bid.id,newStatus:"accepted"})}),c={bid_id:this.bid.id};break;case I.a.REJECT_AWARD:if(c={bid_id:this.bid.id},this.project.isInsourceProject){this.bidDocument.valueChanges().pipe(Object(h.a)(1)).toPromise().then(()=>this.bidDocument.update({awardStatus:d.BidAwardStatusApi.REJECTED,rejectReasonCode:d.BidDenyReasonApi.OTHER,otherFeedback:"Insource"}).then(e=>{e&&"success"===e.status&&this.onActionComplete.emit({id:this.bid.id,newStatus:"rejected"})}));break}this.modalService.open("RejectProjectModal",{size:s.a.SMALL,inputs:{project:this.project,bidDocument:this.bidDocument,isFromNewsfeed:!0}}).afterClosed().pipe(Object(h.a)(1)).toPromise().then(e=>{e&&"success"===e.status&&this.onActionComplete.emit({id:this.bid.id,newStatus:"rejected"})});break;case I.a.EDIT_BID:case I.a.UPGRADE_BID:case I.a.REQUEST_MILESTONE:case I.a.VIEW_MILESTONES:case I.a.VIEW_PROPOSAL:c={bid_id:this.bid.id}}this.tracking.trackCustomEvent(t.replace(/\s+/g,""),"ManageWorkProjectActions",c)}handleBidUpdateResponse(e){return t=>{t&&"success"===t.status&&this.onActionComplete.emit(e)}}chatRecruiter(){this.session$.pipe(Object(h.a)(1)).toPromise().then(e=>{e?m.a([this.userId$,this.agentUserId$]).pipe(Object(h.a)(1)).toPromise().then(([t,c])=>{this.messaging.startChat({userIds:[t,c],threadType:u.ThreadTypeApi.ADMIN_PREFERRED_CHAT,origin:"",context:{type:u.ContextTypeApi.SUPPORT_SESSION,id:e.id}})}):this.toastAlertService.open("no-session")})}chatEmployer(){this.userId$.pipe(Object(g.a)(e=>[e,this.project.ownerId]),Object(h.a)(1)).toPromise().then(e=>{this.messaging.startChat({userIds:e,threadType:u.ThreadTypeApi.PRIVATE_CHAT,origin:"",context:{type:u.ContextTypeApi.PROJECT,id:this.project.id}})})}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(z.a),i.Sb(A.a),i.Sb(y.a),i.Sb(j.d),i.Sb(S.b),i.Sb(C.a),i.Sb(O.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["app-work-project-actions"]],inputs:{bid:"bid",project:"project",projectType:"projectType",hasChatThread:"hasChatThread",size:"size",sizeTablet:"sizeTablet"},outputs:{onActionComplete:"onActionComplete"},features:[i.Eb],decls:4,vars:7,consts:function(){let e,t,c;return e=" The Recruiter for this project is unavailable at the moment. Check back later! ",t="" + "\ufffd*3:1\ufffd\ufffd#1:1\ufffd" + "" + "\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd" + " " + "\ufffd0\ufffd" + " ",c="" + "\ufffd*6:1\ufffd\ufffd#1:1\ufffd" + "" + "\ufffd/#1:1\ufffd\ufffd/*6:1\ufffd" + " " + "\ufffd0\ufffd" + " ",[[4,"ngIf"],[3,"closeable","color","id","type"],e,[1,"ActionButton",3,"busy","color","display","flShowMobile","options","size","optionSelected","primaryClicked"],t,[3,"flMarginRight","isOnline",4,"ngIf"],[1,"ActionButton",3,"busy","color","display","flHideMobile","options","size","optionSelected","primaryClicked"],c,[3,"flMarginRight","isOnline"]]},template:function(e,t){1&e&&(i.Zc(0,D,7,16,"ng-container",0),i.sc(1,"flAsync"),i.Yb(2,"fl-toast-alert",1),i.cc(3,2),i.Xb()),2&e&&(i.zc("ngIf",i.tc(1,5,t.actions$)),i.Gb(2),i.zc("closeable",!0)("color",t.ToastAlertColor.LIGHT)("id","no-session")("type",t.ToastAlertType.ERROR))},directives:[$.q,E.a,M.a,w.a,R.a,l.b],pipes:[v.a],styles:["[_nghost-%COMP%]{white-space:nowrap}"],changeDetection:0}),e})()},dAKu:function(e,t,c){"use strict";c.d(t,"a",function(){return $e});var i=c("ZBue"),n=c("unig"),a=c("nGBr"),o=c("1Lgo"),l=c("dO68"),s=c("HsDr"),r=c("9Aot"),b=c("xsV1"),u=c("Rnop"),d=c("o9eT"),p=c("YKAE"),f=c("f6cb"),m=c("ueDg"),g=c("FPmO"),h=c("2Vo4"),T=c("LRne"),P=c("itXk"),I=c("lJxs"),z=c("/uUt"),A=c("vkgz"),y=c("eDZp"),j=c("8Y7J"),S=c("B0Fo"),C=c("eCtd"),O=c("iInd"),$=c("DsW6"),E=c("SVse"),M=c("l3jN"),w=c("w13q"),R=c("SMHo"),v=c("SZ6u"),L=c("EJ97"),x=c("+RVK"),D=c("pZRy"),B=c("WIlA"),Z=c("U99T"),N=c("LYcv"),G=c("3S66"),X=c("al+g");function W(e,t){if(1&e&&(j.Yb(0,"fl-text",23),j.cc(1,24),j.sc(2,"flAsync"),j.sc(3,"duration"),j.Xb()),2&e){const e=j.rc(2).$implicit,t=j.rc(3);j.zc("size",t.TextSize.XSMALL),j.Gb(3),j.gc(j.tc(2,2,j.uc(3,4,e.awardExpiredIn,t.DurationFormat.LONG))),j.dc(1)}}function k(e,t){if(1&e&&(j.Wb(0),j.Tb(1,"fl-icon",19),j.Yb(2,"fl-text",20),j.cc(3,21),j.Xb(),j.Zc(4,W,4,7,"fl-text",22),j.Vb()),2&e){const e=j.rc().$implicit,t=j.rc(3);j.Gb(1),j.zc("name","ui-warning-alt-v2")("color",t.IconColor.ERROR)("size",t.IconSize.SMALL),j.Gb(1),j.zc("fontType",t.FontType.SPAN)("size",t.TextSize.XSMALL),j.Gb(2),j.zc("ngIf",e.awardExpiredIn)}}function H(e,t){if(1&e&&(j.Yb(0,"fl-text",23),j.cc(1,25),j.Xb()),2&e){const e=j.rc(4);j.zc("size",e.TextSize.XSMALL)}}function _(e,t){if(1&e&&(j.Yb(0,"fl-bit"),j.Zc(1,k,5,6,"ng-container",0),j.Zc(2,H,2,1,"ng-template",null,18,j.ad),j.Xb()),2&e){const e=t.$implicit,c=j.Mc(3),i=j.rc(3);j.Gb(1),j.zc("ngIf",e.bidStatus===i.AWAITING_ACCEPTANCE&&e.awardExpiredIn)("ngIfElse",c)}}function V(e,t){if(1&e&&(j.Yb(0,"fl-tooltip",29),j.sc(1,"flAsync"),j.sc(2,"duration"),j.ec(3,30),j.Tb(4,"fl-icon",31),j.Xb()),2&e){const e=j.rc(2).$implicit,t=j.rc(3);j.gc(j.tc(1,7,j.uc(2,9,e.awardExpiredIn,t.DurationFormat.LONG))),j.dc(3),j.zc("flHideMobile",!0)("position",t.TooltipPosition.TOP_START),j.Gb(4),j.zc("flMarginRight",t.Margin.SMALL)("name","ui-warning-alt-v2")("color",t.IconColor.ERROR)("size",t.IconSize.SMALL)}}function Y(e,t){if(1&e&&(j.Wb(0),j.Yb(1,"fl-bit",26),j.Zc(2,V,5,12,"fl-tooltip",27),j.Tb(3,"app-manage-project-title",28),j.Xb(),j.Vb()),2&e){const e=j.rc().$implicit,t=j.rc(3);j.Gb(2),j.zc("ngIf",e.bidStatus===t.AWAITING_ACCEPTANCE&&e.awardExpiredIn),j.Gb(1),j.zc("projectId",e.project.id)("recruiter",e.recruiter)("seoUrl",e.project.seoUrl)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("tableType",t.ManageTableType.PROJECT)("title",e.project.title)}}function F(e,t){if(1&e&&j.Zc(0,Y,4,8,"ng-container",0),2&e){const e=t.$implicit;j.rc(3);const c=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",c)}}function U(e,t){if(1&e&&j.Tb(0,"app-manage-username",34),2&e){const e=j.rc().$implicit,t=j.rc(4);j.zc("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("userId",e.employer.id)("username",e.employer.username)}}function J(e,t){if(1&e&&j.Zc(0,U,1,4,"app-manage-username",33),2&e){const e=t.$implicit;j.rc(4);const c=j.Mc(7);j.zc("ngIf",e.employer)("ngIfElse",c)}}function q(e,t){if(1&e&&(j.Yb(0,"fl-table-col",32),j.Zc(1,J,1,2,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_LEFT)}}function K(e,t){if(1&e&&(j.Wb(0),j.bd(1),j.Vb()),2&e){const e=j.rc().$implicit;j.Gb(1),j.dd(" ",e.project.bidStats.bidCount," ")}}function Q(e,t){if(1&e&&j.Zc(0,K,2,1,"ng-container",0),2&e){const e=t.$implicit;j.rc(4);const c=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",c)}}function ee(e,t){if(1&e&&(j.Yb(0,"fl-table-col",35),j.Zc(1,Q,1,2,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)("textAlign",e.TextAlign.CENTER)("flHideTablet",!0)}}function te(e,t){if(1&e&&(j.Wb(0),j.bd(1),j.Vb()),2&e){const e=j.rc().$implicit;j.Gb(1),j.dd(" ",e.project.bidStats.bidCount," ")}}function ce(e,t){if(1&e&&j.Zc(0,te,2,1,"ng-container",0),2&e){const e=t.$implicit;j.rc(4);const c=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",c)}}function ie(e,t){if(1&e&&(j.Yb(0,"fl-table-col",36),j.Zc(1,ce,1,2,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)("textAlign",e.TextAlign.CENTER)}}function ne(e,t){if(1&e&&j.Tb(0,"app-manage-currency",40),2&e){const e=j.rc().$implicit;j.zc("amount",e.project.bidStats.bidAvg)("currencyCode",e.project.currency.code)}}function ae(e,t){if(1&e&&(j.Wb(0),j.cc(1,43),j.Vb()),2&e){const e=j.rc(2).$implicit;j.Gb(1),j.gc(e.project.bidStats.bidCount),j.dc(1)}}function oe(e,t){1&e&&(j.Wb(0),j.cc(1,44),j.Vb())}function le(e,t){if(1&e&&(j.Yb(0,"fl-text",41),j.Zc(1,ae,2,1,"ng-container",0),j.Zc(2,oe,2,0,"ng-template",null,42,j.ad),j.Xb()),2&e){const e=j.Mc(3),t=j.rc().$implicit;j.zc("flShowTablet",!0),j.Gb(1),j.zc("ngIf",t.project.bidStats.bidCount>1)("ngIfElse",e)}}function se(e,t){if(1&e&&(j.Zc(0,ne,1,2,"app-manage-currency",38),j.Zc(1,le,4,3,"fl-text",39)),2&e){const e=t.$implicit;j.rc(4);const c=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",c),j.Gb(1),j.zc("ngIf",e.project&&e.project.bidStats.bidCount>0)}}function re(e,t){if(1&e&&(j.Yb(0,"fl-table-col",37),j.Zc(1,se,2,3,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.SHOW_EXPANDABLE)}}function be(e,t){if(1&e&&(j.Wb(0),j.Tb(1,"app-manage-currency",46),j.Tb(2,"app-manage-currency",47),j.Vb()),2&e){const e=j.rc().$implicit,t=j.rc(4);j.Gb(1),j.zc("amount",e.bidAmount)("currencyCode",e.project.currency.code)("flHideMobile",!0)("hourly",e.project.type===t.ProjectTypeApi.HOURLY)("weight",t.FontWeight.BOLD),j.Gb(1),j.zc("amount",e.bidAmount)("currencyCode",e.project.currency.code)("flShowMobile",!0)("hourly",e.project.type===t.ProjectTypeApi.HOURLY)}}function ue(e,t){if(1&e&&j.Zc(0,be,3,9,"ng-container",0),2&e){const e=t.$implicit;j.rc(4);const c=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",c)}}function de(e,t){if(1&e&&(j.Yb(0,"fl-table-col",45),j.Zc(1,ue,1,2,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.BOTTOM_RIGHT)}}function pe(e,t){if(1&e&&j.Tb(0,"fl-relative-time",53),2&e){const e=j.rc().$implicit,t=j.rc(4);j.zc("color",t.FontColor.DARK)("date",e.bidPlacedDate)("flHideMobile",!0)("live",!1)("size",t.TextSize.XSMALL)}}function fe(e,t){if(1&e&&(j.Zc(0,pe,1,5,"fl-relative-time",49),j.Yb(1,"fl-bit",50),j.Wb(2),j.cc(3,51),j.Vb(),j.Tb(4,"fl-relative-time",52),j.Xb()),2&e){const e=t.$implicit,c=j.rc(4),i=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",i),j.Gb(1),j.zc("flShowMobile",!0),j.Gb(3),j.zc("date",e.bidPlacedDate)("live",!1)("size",c.TextSize.XXSMALL)}}function me(e,t){if(1&e&&(j.Yb(0,"fl-table-col",48),j.Zc(1,fe,5,6,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.TOP)}}function ge(e,t){if(1&e&&j.Tb(0,"fl-relative-time",53),2&e){const e=j.rc().$implicit,t=j.rc(4);j.zc("color",t.FontColor.DARK)("date",e.bidPlacedDate)("flHideMobile",!0)("live",!1)("size",t.TextSize.XSMALL)}}function he(e,t){if(1&e&&(j.Zc(0,ge,1,5,"fl-relative-time",49),j.Yb(1,"fl-bit",50),j.Wb(2),j.cc(3,55),j.Vb(),j.Tb(4,"fl-relative-time",52),j.Xb()),2&e){const e=t.$implicit,c=j.rc(4),i=j.Mc(7);j.zc("ngIf",e.project)("ngIfElse",i),j.Gb(1),j.zc("flShowMobile",!0),j.Gb(3),j.zc("date",e.bidPlacedDate)("live",!1)("size",c.TextSize.XXSMALL)}}function Te(e,t){if(1&e&&(j.Yb(0,"fl-table-col",54),j.Zc(1,he,5,6,"ng-template",null,8,j.ad),j.Xb()),2&e){const e=j.rc(3);j.zc("columnPlacement",e.ResponsiveColumnPlacement.TOP)}}function Pe(e,t){if(1&e){const e=j.Zb();j.Yb(0,"app-work-project-actions",57),j.nc("onActionComplete",function(t){return j.Pc(e),j.rc(4).handleActionComplete(t)}),j.Xb()}if(2&e){const e=j.rc().$implicit,t=j.rc(3);j.zc("bid",e)("project",e.project)("projectType",t.ManageTableView.OPEN)("size",t.ButtonSize.SMALL)("sizeTablet",t.ButtonSize.MINI)}}function Ie(e,t){1&e&&j.Zc(0,Pe,1,5,"app-work-project-actions",56),2&e&&j.zc("ngIf",!t.$implicit.actionChanges)}function ze(e,t){if(1&e){const e=j.Zb();j.Yb(0,"fl-table",6),j.nc("pageSelected",function(t){return j.Pc(e),j.rc(2).handlePageSelected(t)}),j.sc(1,"flAsync"),j.sc(2,"flAsync"),j.Yb(3,"fl-table-col",7),j.Zc(4,_,4,2,"ng-template",null,8,j.ad),j.Xb(),j.Yb(6,"fl-table-col",9),j.Zc(7,F,1,2,"ng-template",null,8,j.ad),j.Xb(),j.Zc(9,q,3,1,"fl-table-col",10),j.sc(10,"flAsync"),j.Zc(11,ee,3,3,"fl-table-col",11),j.sc(12,"flAsync"),j.Zc(13,ie,3,2,"fl-table-col",12),j.sc(14,"flAsync"),j.Zc(15,re,3,1,"fl-table-col",13),j.sc(16,"flAsync"),j.Zc(17,de,3,1,"fl-table-col",14),j.sc(18,"flAsync"),j.Zc(19,me,3,1,"fl-table-col",15),j.sc(20,"flAsync"),j.Zc(21,Te,3,1,"fl-table-col",16),j.sc(22,"flAsync"),j.Yb(23,"fl-table-col",17),j.Zc(24,Ie,1,1,"ng-template",null,8,j.ad),j.Xb(),j.Tb(26,"fl-table-expandable-content"),j.Xb()}if(2&e){const e=j.rc().ngIf,t=j.rc();j.zc("compactPagination",!0)("dataSource",e)("expandable",!0)("expandableBodyCompact",!0)("flMarginBottom",t.Margin.SMALL)("initialPage",j.tc(1,26,t.currentPage$))("itemsPerPage",j.tc(2,28,t.itemsPerPage$))("expandable",!0)("expandableBodyCompact",!0)("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),j.Gb(3),j.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_LEFT)("flHideDesktop",!0)("flHideTablet",!0),j.Gb(3),j.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",4),j.Gb(3),j.zc("ngIf",j.tc(10,30,t.isInsource$)),j.Gb(2),j.zc("ngIf",!j.tc(12,32,t.isInsource$)),j.Gb(2),j.zc("ngIf",j.tc(14,34,t.isInsource$)),j.Gb(2),j.zc("ngIf",!j.tc(16,36,t.isInsource$)),j.Gb(2),j.zc("ngIf",!j.tc(18,38,t.isInsource$)),j.Gb(2),j.zc("ngIf",!j.tc(20,40,t.isInsource$)),j.Gb(2),j.zc("ngIf",j.tc(22,42,t.isInsource$)),j.Gb(2),j.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_ACTION)}}function Ae(e,t){if(1&e&&(j.Tb(0,"app-manage-empty-table",58),j.sc(1,"flAsync")),2&e){const e=j.rc(2);j.zc("isInsource",j.tc(1,4,e.isInsource$))("projectType",e.ManageTableView.OPEN)("tableType",e.ManageTableType.PROJECT)("viewType",e.ManageViewType.FREELANCER)}}function ye(e,t){if(1&e&&(j.Wb(0),j.Yb(1,"fl-bit"),j.Zc(2,ze,27,44,"fl-table",4),j.Zc(3,Ae,2,6,"ng-template",null,5,j.ad),j.Xb(),j.Vb()),2&e){const e=t.ngIf,c=j.Mc(4);j.Gb(2),j.zc("ngIf",e.length>0)("ngIfElse",c)}}const je=function(e,t,c,i){return[e,t,c,i]};function Se(e,t){if(1&e&&(j.Tb(0,"app-manage-loading-table",59),j.sc(1,"flAsync"),j.sc(2,"flAsync")),2&e){const e=j.rc();let t=null;j.zc("columns",e.columns)("columnPlacement",j.Hc(8,je,e.ResponsiveColumnPlacement.TOP,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("error",null==(t=j.tc(1,4,e.viewStatus$))?null:t.error)("rows",j.tc(2,6,e.itemsPerPage$))}}function Ce(e,t){1&e&&j.Tb(0,"fl-loading-text",60),2&e&&j.zc("rows",1)("padded",!1)}const Oe=function(e,t){return[e,t]};let $e=(()=>{class e{constructor(e,t,c,i){this.anchorScroll=e,this.datastore=t,this.route=c,this.tracking=i,this.ButtonSize=l.a,this.DurationFormat=o.a,this.FontColor=u.a,this.FontType=d.b,this.FontWeight=d.c,this.IconColor=s.c,this.IconSize=s.e,this.ManageTableType=g.d,this.ManageTableView=g.e,this.ManageViewType=g.f,this.Margin=r.a,this.ProjectTypeApi=m.ProjectTypeApi,this.ResponsiveColumnPlacement=b.a,this.TableColumnPaddingSize=b.c,this.TablePaginationPosition=b.h,this.TextAlign=d.d,this.TextSize=d.f,this.TooltipPosition=p.b,this.AWAITING_ACCEPTANCE="awaiting_acceptance",this.bidChanges=[],this.bidChangesSubject$=new h.a([]),this.currentPageSubject$=new h.a(1),this.columns=[4,void 0,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.isInsource$=this.route.parent?this.route.parent.data.pipe(Object(I.a)(e=>!!e.insource)):T.a(!1),this.currentPage$=Object(f.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(I.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(z.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=P.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(I.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(y.b)(t+g.g,g.h)*this.filterShowUrlParam(e.get("show")))),Object(z.a)(),Object(A.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new h.a(g.a*g.h);const e=P.a([this.route.queryParams,this.isInsource$]).pipe(Object(I.a)(([{query:e,filter:t},c])=>({query:e||"",filter:c?g.c.TOKEN:g.l.includes(t)?t:g.c.ALL})),Object(A.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewOpenBids",t=>t.search(e).limit(this.limit$));this.viewStatus$=t.status$;const c=t.valueChanges();this.projectsCollection=this.datastore.collection("projects",c.pipe(Object(i.a)(),Object(n.a)("projectId")));const o=this.projectsCollection.valueChanges();this.employersCollection=this.datastore.collection("users",c.pipe(Object(n.a)("employerId")));const l=this.employersCollection.valueChanges();this.bidsProjects$=c.pipe(Object(a.a)(l,"employerId"),Object(I.a)(e=>e.map(([e,t])=>Object.assign(Object.assign({},e),{employer:t}))),Object(a.a)(o,"projectId"),Object(I.a)(e=>e.map(([e,t])=>Object.assign(Object.assign({},e),{project:t,awardExpiredIn:this.getAwardExpiredIn(e.awardTime)}))),Object(a.a)(this.bidChangesSubject$,"id"),Object(I.a)(e=>e.map(([e,t])=>Object.assign(Object.assign({},e),{actionChanges:t}))))}handleActionComplete(e){this.bidChanges=this.bidChanges.concat(e),this.bidChangesSubject$.next(this.bidChanges)}handlePageSelected(e){this.tracking.trackCustomEvent("ManageOpenProjectsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:g.b,onlyIfNeeded:!0})}getAwardExpiredIn(e){if(void 0===e)return;const t=e+1296e5,c=Date.now();return c<t?c-t:void 0}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(f.s)(g.k.find(t=>t===e)))&&void 0!==t?t:g.a}}return e.\u0275fac=function(t){return new(t||e)(j.Sb(S.a),j.Sb(C.a),j.Sb(O.a),j.Sb($.a))},e.\u0275cmp=j.Mb({type:e,selectors:[["ng-component"]],decls:8,vars:10,consts:function(){let e,t,c,i,n,a,o,l,s,r,b,u,d,p,f,m,g;return e="Project Name",t="Posted By",c="Total Bids",i="Total Proposals",n="Average Bid",a="My Bid",o="Bid Placed",l="Proposal Placed",s="Actions",r=" Awarded ",b=" " + "\ufffd0\ufffd" + " left ",u=" Active ",d="\n                      You've been awarded! Please respond within " + "\ufffd0\ufffd" + "\n                    ",p=" (" + "\ufffd0\ufffd" + " Bids) ",f=" (1 Bid) ",m=" Bid placed ",g=" Proposal placed ",[[4,"ngIf","ngIfElse"],["loadingTable",""],[3,"collectionStatuses"],["loadingText",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["emptyTable",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],[3,"columnPlacement","flHideDesktop","flHideTablet"],["cell",""],["title",e,3,"columnPlacement","gridWidth"],["title",t,3,"columnPlacement",4,"ngIf"],["title",c,3,"columnPlacement","textAlign","flHideTablet",4,"ngIf"],["title",i,3,"columnPlacement","textAlign",4,"ngIf"],["title",n,3,"columnPlacement",4,"ngIf"],["title",a,3,"columnPlacement",4,"ngIf"],["title",o,3,"columnPlacement",4,"ngIf"],["title",l,3,"columnPlacement",4,"ngIf"],["title",s,3,"columnPlacement"],["active",""],[3,"name","color","size"],[3,"fontType","size"],r,[3,"size",4,"ngIf"],[3,"size"],b,u,[1,"ProjectTitleColumn"],[3,"message","flHideMobile","position",4,"ngIf"],[3,"projectId","recruiter","seoUrl","size","sizeTablet","tableType","title"],[3,"flHideMobile","position",6,"message"],["message",d],[3,"flMarginRight","name","color","size"],["title",t,3,"columnPlacement"],[3,"size","sizeTablet","userId","username",4,"ngIf","ngIfElse"],[3,"size","sizeTablet","userId","username"],["title",c,3,"columnPlacement","textAlign","flHideTablet"],["title",i,3,"columnPlacement","textAlign"],["title",n,3,"columnPlacement"],[3,"amount","currencyCode",4,"ngIf","ngIfElse"],[3,"flShowTablet",4,"ngIf"],[3,"amount","currencyCode"],[3,"flShowTablet"],["oneBid",""],p,f,["title",a,3,"columnPlacement"],[3,"amount","currencyCode","flHideMobile","hourly","weight"],[3,"amount","currencyCode","flShowMobile","hourly"],["title",o,3,"columnPlacement"],[3,"color","date","flHideMobile","live","size",4,"ngIf","ngIfElse"],[3,"flShowMobile"],m,[3,"date","live","size"],[3,"color","date","flHideMobile","live","size"],["title",l,3,"columnPlacement"],g,[3,"bid","project","projectType","size","sizeTablet","onActionComplete",4,"ngIf"],[3,"bid","project","projectType","size","sizeTablet","onActionComplete"],[3,"isInsource","projectType","tableType","viewType"],[3,"columns","columnPlacement","error","rows"],[3,"rows","padded"]]},template:function(e,t){if(1&e&&(j.Zc(0,ye,5,2,"ng-container",0),j.sc(1,"flAsync"),j.sc(2,"flAsync"),j.Zc(3,Se,3,13,"ng-template",null,1,j.ad),j.Tb(5,"app-manage-error-toast",2),j.Zc(6,Ce,1,2,"ng-template",null,3,j.ad)),2&e){const e=j.Mc(4);let c=null;j.zc("ngIf",(null==(c=j.tc(1,3,t.viewStatus$))?null:c.ready)&&j.tc(2,5,t.bidsProjects$))("ngIfElse",e),j.Gb(5),j.zc("collectionStatuses",j.Fc(7,Oe,t.projectsCollection.status$,t.employersCollection.status$))}},directives:[E.q,M.a,w.a,b.e,r.b,b.b,R.a,b.g,s.d,d.e,v.a,p.a,L.a,x.a,D.b,B.a,Z.a,N.a,G.a],pipes:[X.a,o.b],styles:[".ProjectTitleColumn[_ngcontent-%COMP%]{align-items:flex-start;display:flex;flex-direction:row;justify-content:flex-start}"]}),e})()},nGBr:function(e,t,c){"use strict";c.d(t,"a",function(){return o});var i=c("itXk"),n=c("lJxs"),a=c("97vJ");function o(e,t){return c=>i.a([c,e.pipe(Object(a.a)())]).pipe(Object(n.a)(([e,c])=>e.map(e=>[e,c.find(c=>c.id===e[t])])))}}}]);
//# sourceMappingURL=default~app-manage-insource-insource-module~app-manage-work-work-module-es2015.0dd30e90a4e37c0a1c37.js.map