(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{"/6ND":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"id",direction:r.a.DESC},fetch:(e,t,n,i)=>({endpoint:"users/0.1/self",params:{balance_details:1}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2"),o=n("e+HA");function l(e,t){if(!e.currency)throw new Error("Currency missing from pendingFunds");const n=!!t&&e.currency.code===t.code;return{id:e.currency.id,currency:Object(o.a)(e.currency),amount:e.amount||0,bonusAmount:e.bonus_amount||0,primary:n}}function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("userBalances"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)(n.account_balances&&n.account_balances.balances,l,n.primary_currency),a,i)}return e;case"WS_MESSAGE":if("notifications"===t.payload.parent_type&&"balanceUpdate"===t.payload.type){const n={path:{collection:"userBalances",authUid:t.payload.toUserId}};return Object(s.q)(e,Object(s.z)(t.payload.data.balances,l,t.payload.data.primary_currency),n)}return e;default:return e}}var d=n("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({imports:[[a.j.forFeature("userBalances",u),i.d.forFeature("userBalances",c)]]}),e})()},"/Ce8":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"id",direction:r.a.ASC},fetch:(e,t,n,i)=>({endpoint:"projects/getBidLimit.php",isGaf:!0,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2"),o=n("f6cb");function l(e,t){const n=1e3*Object(o.s)(e.bidsLastRefilled),i=1e3*e.bidRefreshTime,a=n+i;return{id:t,bidsRemaining:e.bidsRemaining,bidLimit:e.bidLimit,bidsLastRefilled:n,bidRefreshTime:i,bidRefreshRate:Math.round(10*e.bidRefreshRate)/10,nextBidRefreshTime:a,unlimitedBids:e.unlimitedBids}}function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("userBidLimit"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)([n],l,i.path.authUid),a,i)}return e;default:return e}}var d=n("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({imports:[[a.j.forFeature("userBidLimit",u),i.d.forFeature("userBidLimit",c)]]}),e})()},"4qA5":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"orderByFeedReadLatestTimeInMs",direction:r.a.DESC},fetch:(e,t,n,i)=>({endpoint:"groups/0.1/groups",isGaf:!1}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2"),o=n("f6cb"),l=n("ugsI");function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("groupsSelf"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)(n.groups,l.a),a,i)}return e;case"API_DELETE_SUCCESS":if("groupMembers"===t.payload.type){const{originalDocument:n,ref:i}=t.payload;if(n.userId!==Object(o.s)(i.path.authUid))return e;const a={path:{collection:"groupsSelf",authUid:i.path.authUid}};return Object(s.u)(a,e,n.groupId)}return e;default:return e}}var d=n("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({imports:[[a.j.forFeature("groupsSelf",u),i.d.forFeature("groupsSelf",c)]]}),e})()},"8B3g":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("f6cb"),a=n("2UyU"),r=n("LRne"),c=n("itXk"),s=n("lJxs"),o=n("eIep"),l=n("IzEk"),u=n("rPt3"),d=n("8Y7J"),f=n("eCtd"),p=n("/wLE");let b=(()=>{class e{constructor(e,t){this.datastore=e,this.auth=t}getEnterprises(e){if(e)return this.datastore.collection("enterprises",t=>t.where("seoUrl","==",e)).valueChanges();const t=this.datastore.document("users",this.auth.getUserId()).valueChanges().pipe(Object(s.a)(e=>e.enterpriseIds||[]));return this.datastore.collection("enterprises",t).valueChanges()}getResources(e){return e.pipe(Object(o.a)(e=>{if(!e)return r.a([]);const t=[];return t.push({id:e.id,entityType:a.EntityTypeApi.ENTERPRISE}),r.a(t)}))}getUserPermissions(e){return this.datastore.collection("grants",t=>t.where("resource","in",this.getResources(e))).valueChanges().pipe(Object(s.a)(e=>e.reduce((e,t)=>{const n=e[t.resource.entityType];return e[t.resource.entityType]=n?[...n,...t.grantedPermissions]:t.grantedPermissions,e},{})))}checkDashboardAccess(e){return e.pipe(Object(o.a)(e=>this.getAccessibleDashboards(e).pipe(Object(s.a)(e=>e.length>0))))}getAccessibleDashboards(e){return this.getEnterprises(e).pipe(Object(s.a)(e=>e.map(e=>this.getUserPermissions(r.a(e)).pipe(Object(s.a)(t=>this.checkAccess(Object.values(u.f),t)?e.seoUrl:void 0),Object(l.a)(1)))),Object(o.a)(e=>e.length?c.a(e).pipe(Object(s.a)(e=>e.filter(i.h))):r.a([])))}checkFeatureAccess(e,t){const n=this.getEnterprises(t).pipe(Object(s.a)(e=>e.length>0&&e[0]));return c.a([this.getUserPermissions(n).pipe(Object(s.a)(t=>this.checkAccess([e],t))),n]).pipe(Object(s.a)(([t,n])=>t&&n&&(n.internalName in u.b?u.b[n.internalName].includes(e):u.b.default.includes(e))))}checkAccess(e,t){return e.some(e=>Object.entries(u.e[e]).every(([e,n])=>{const i=t[e];return!!i&&n.every(e=>i.includes(e))}))}}return e.\u0275fac=function(t){return new(t||e)(d.jc(f.a),d.jc(p.a))},e.\u0275prov=d.Ob({token:e,factory:e.\u0275fac}),e})()},BLuq:function(e,t,n){"use strict";n.d(t,"a",function(){return ae});var i=n("SVse"),a=n("KBhi"),r=n("JADw"),c=n("EgRV"),s=n("I0A4"),o=n("tKIg"),l=n("48dK"),u=n("Nr4O"),d=n("v7L1"),f=n("9u4R"),p=n("tqRt"),b=n("OpNG");function g(){return{defaultOrder:{field:"id",direction:b.a.DESC},fetch:(e,t,n,i)=>({endpoint:"search/topFreelancer.php",isGaf:!0,params:{q:n&&n.searchQueryParams&&n.searchQueryParams.q}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var h=n("cUs2");function m(e){return e.includes("img/unknown.png")?void 0:e}function y(e){return{completion:e.completion,flagIcon:m(e.flag_icon),flagCode:(t=e.flag_icon,(t.match(/img\/flags\/png\/(\w+)\.png/)||[])[1]||void 0),flagName:e.flag_name||void 0,id:e.id,jobList:e.jobList,avatar:m(e.profile_logo_url),publicName:e.public_name,reputation:e.reputation,reviews:e.reviews,username:e.username};var t}function S(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("searchFreelancers"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(h.o)(e,Object(h.z)(n,y),a,i)}return e;default:return e}}var T=n("8Y7J");let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[p.j.forFeature("searchFreelancers",S),f.d.forFeature("searchFreelancers",g)]]}),e})();var I=n("lby3");function C(){return{defaultOrder:{field:"id",direction:b.a.DESC},fetch:(e,t,n,i)=>({endpoint:"search/keywordProjects.php",isGaf:!0,params:{q:n&&n.searchQueryParams&&n.searchQueryParams.q}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var P=n("f6cb"),O=n("ueDg"),E=n("e+HA");function _(e){return{budget:{maximum:e.max_budget,minimum:e.min_budget,currency:Object(P.s)(e.currency.id)},commitment:Object(P.s)(e.commitment),currency:Object(E.b)(e.currency),description:e.description,frontendProjectStatus:e.status,id:Object(P.s)(e.id),skillList:e.jobList,skillListArray:e.jobListArray,title:e.name,type:"Hourly:"===e.budget_period?O.ProjectTypeApi.HOURLY:O.ProjectTypeApi.FIXED}}function M(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("searchKeywordProjects"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(h.o)(e,Object(h.z)(n,_),a,i)}return e;default:return e}}let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[p.j.forFeature("searchKeywordProjects",M),f.d.forFeature("searchKeywordProjects",C)]]}),e})();var k=n("/6ND"),L=n("/Ce8"),w=n("Juij"),z=n("bfXL"),x=n("pjJp");function j(){return{defaultOrder:{field:"latest",direction:b.a.DESC},fetch:(e,t,n,i)=>({endpoint:"navigation/recent-projects-and-contests.php",isGaf:!0,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}function R(e){return{id:`${e.type}-${e.id}`,type:e.type,latest:e.latest,name:e.name,projectOrContestId:Object(P.s)(e.id),urlPart:e.urlPart}}function F(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("userRecentProjectsAndContests"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(h.o)(e,Object(h.z)(n.list,R),a,i)}return e;default:return e}}let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[p.j.forFeature("userRecentProjectsAndContests",F),f.d.forFeature("userRecentProjectsAndContests",j)]]}),e})();var G=n("iuNj"),N=n("cNBb"),B=n("wBFQ"),D=n("hFqS"),H=n("EXHp"),X=n("JOOM"),Y=n("18b0"),$=n("cokP"),V=n("OS7q"),J=n("0jU1"),Z=n("knEe"),W=n("41IX"),Q=n("OnSb"),q=n("Z13H");let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[i.c,Y.a,$.a]]}),e})();var ee=n("ijPD");let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[i.c,H.a,ee.a,Y.a,$.a]]}),e})(),ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[i.c,H.a,Y.a,$.a,N.a]]}),e})(),ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[i.c,Y.a,$.a,N.a]]}),e})(),ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[i.c,K,a.a,r.a,c.a,s.a,o.a,l.a,u.a,d.a,v,I.a,A,k.a,L.a,w.a,z.a,x.a,U,G.a,Z.a,J.a,B.a,q.a,W.a,Q.a,H.a,te,D.a,X.a,Y.a,$.a,ne,ie,N.a,V.a]]}),e})()},Da14:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n("UlxN"),a=n("0L2y"),r=n("lDT0"),c=n("9Aot"),s=n("o9eT"),o=n("71eJ"),l=n("dJr3"),u=n("lJxs"),d=n("8Y7J"),f=n("/wLE"),p=n("eCtd"),b=n("SVse"),g=n("tbJ/"),h=n("byQ9"),m=n("SMHo"),y=n("w13q"),S=n("DSso"),T=n("3S66"),v=n("al+g");const I=function(e){return[e]};function C(e,t){if(1&e&&(d.Yb(0,"fl-bit",7),d.Yb(1,"fl-link",8),d.Yb(2,"fl-bit",9),d.Tb(3,"fl-user-avatar",10),d.Tb(4,"fl-username",11),d.Xb(),d.Xb(),d.Yb(5,"fl-link",12),d.cc(6,13),d.Xb(),d.Xb()),2&e){const e=d.rc();d.zc("flShowMobile",!0),d.Gb(1),d.zc("color",e.LinkColor.DARK)("underline",e.LinkUnderline.NEVER)("flMarginRight",e.Margin.XXSMALL),d.Gb(2),d.zc("flMarginRight",e.Margin.XSMALL)("size",e.AvatarSize.MID)("users",d.Ec(13,I,e.user)),d.Gb(1),d.zc("compact",!0)("displayName",e.user.publicName)("username",e.user.username)("size",e.UsernameSize.LARGE)("truncateText",!0),d.Gb(1),d.zc("size",e.TextSize.XXXSMALL)}}function P(e,t){if(1&e&&d.Tb(0,"app-menu-item",14),2&e){const e=d.rc();d.zc("flHideMobile",!0)("link","/u/"+e.user.username)}}function O(e,t){if(1&e&&(d.Yb(0,"fl-bit",20),d.Tb(1,"fl-badge",21),d.Yb(2,"fl-text",22),d.bd(3),d.sc(4,"titlecase"),d.Xb(),d.Xb()),2&e){const e=t.ngIf,n=d.rc().ngIf,i=d.rc(2);d.Gb(1),d.zc("badge",e)("flMarginRight",i.Margin.XXSMALL),d.Gb(1),d.zc("fontType",i.FontType.SPAN)("size",i.TextSize.XXSMALL)("weight",i.FontWeight.BOLD),d.Gb(1),d.dd(" ",d.tc(4,6,n.name)," ")}}function E(e,t){if(1&e&&(d.Wb(0),d.Zc(1,O,5,8,"fl-bit",19),d.sc(2,"flAsync"),d.Vb()),2&e){const e=d.rc(2);d.Gb(1),d.zc("ngIf",d.tc(2,1,e.membershipBadge$))}}function _(e,t){if(1&e&&(d.Wb(0),d.Yb(1,"app-menu-item",15),d.Yb(2,"fl-bit",16),d.Yb(3,"fl-bit"),d.cc(4,17),d.Xb(),d.Zc(5,E,3,3,"ng-container",18),d.sc(6,"flAsync"),d.Xb(),d.Xb(),d.Vb()),2&e){const e=d.rc();d.Gb(5),d.zc("ngIf",d.tc(6,1,e.membershipPackage$))}}function M(e,t){1&e&&d.Tb(0,"app-menu-item",23),2&e&&d.zc("flHideMobile",!0)}function A(e,t){if(1&e&&(d.Yb(0,"fl-bit",24),d.Yb(1,"fl-bit",9),d.Tb(2,"fl-loading-text",25),d.Tb(3,"fl-loading-text",26),d.Xb(),d.Tb(4,"fl-loading-text",27),d.Xb()),2&e){const e=d.rc();d.zc("flShowMobile",!0),d.Gb(2),d.zc("rows",1)("padded",!1)("flMarginRight",e.Margin.SMALL),d.Gb(1),d.zc("rows",2)("padded",!1),d.Gb(1),d.zc("rows",1)("padded",!1)}}let k=(()=>{class e{constructor(e,t){this.auth=e,this.datastore=t,this.AvatarSize=o.a,this.Feature=i.b,this.FontType=s.b,this.FontWeight=s.c,this.LinkColor=r.a,this.LinkUnderline=r.e,this.Margin=c.a,this.TextSize=s.f,this.UsernameSize=l.c}ngOnInit(){const e=this.auth.getUserId();this.membershipPackage$=this.datastore.document("projectViewUsers",e).valueChanges().pipe(Object(u.a)(e=>e.membershipPackage)),this.membershipBadge$=this.membershipPackage$.pipe(Object(u.a)(e=>{if(e&&e.badgeType)return{type:a.c.MEMBERSHIP,badge:e.badgeType}}))}}return e.\u0275fac=function(t){return new(t||e)(d.Sb(f.a),d.Sb(p.a))},e.\u0275cmp=d.Mb({type:e,selectors:[["app-menu-account"]],inputs:{user:"user"},decls:8,vars:8,consts:function(){let e,t,n,i,a,r;return e="View profile",t="Account analytics",n="Bid Insights",i="Settings",a=" View profile ",r="Membership",[["class","Account",3,"flShowMobile",4,"ngIf","ngIfElse"],["trackingLabel","Account-ViewProfile","label",e,3,"flHideMobile","link",4,"ngIf"],[4,"flFeature"],["trackingLabel","Account-Analytics","label",t,"link","/insights",3,"external","flHideMobile"],["trackingLabel","Account-Insights","label",n,"link","/insights/bids",3,"flHideMobile",4,"flFeature"],["trackingLabel","Account-UserSettings","label",i,"link","/users/settings.php",3,"external"],["loadingUser",""],[1,"Account",3,"flShowMobile"],["link","/me","flTrackingLabel","Account-ViewProfile",1,"Account-link",3,"color","underline","flMarginRight"],[1,"Account-details"],[3,"flMarginRight","size","users"],[1,"Account-details-username",3,"compact","displayName","username","size","truncateText"],["link","/me","flTrackingLabel","Account-ViewProfile",1,"Account-action",3,"size"],a,["trackingLabel","Account-ViewProfile","label",e,3,"flHideMobile","link"],["link","/membership","trackingLabel","Account-ManageMembership"],[1,"Account-membership"],r,[4,"ngIf"],["class","Account-membership-value",4,"ngIf"],[1,"Account-membership-value"],[1,"Account-membership-badge",3,"badge","flMarginRight"],[3,"fontType","size","weight"],["trackingLabel","Account-Insights","label",n,"link","/insights/bids",3,"flHideMobile"],[1,"Loading","Account",3,"flShowMobile"],[1,"Loading-avatar",3,"rows","padded","flMarginRight"],[1,"Loading-username",3,"rows","padded"],[1,"Loading-value",3,"rows","padded"]]},template:function(e,t){if(1&e&&(d.Zc(0,C,7,15,"fl-bit",0),d.Zc(1,P,1,2,"app-menu-item",1),d.Zc(2,_,7,3,"ng-container",2),d.Tb(3,"app-menu-item",3),d.Zc(4,M,1,1,"app-menu-item",4),d.Tb(5,"app-menu-item",5),d.Zc(6,A,5,8,"ng-template",null,6,d.ad)),2&e){const e=d.Mc(7);d.zc("ngIf",t.user)("ngIfElse",e),d.Gb(1),d.zc("ngIf",t.user),d.Gb(1),d.zc("flFeature",t.Feature.MEMBERSHIPS),d.Gb(1),d.zc("external",!0)("flHideMobile",!0),d.Gb(1),d.zc("flFeature",t.Feature.INSIGHTS),d.Gb(1),d.zc("external",!0)}},directives:[b.q,g.a,h.a,m.a,y.a,r.b,S.a,c.b,o.b,l.b,a.a,s.e,T.a],pipes:[v.a,b.A],styles:["[_nghost-%COMP%]{display:block}.Account[_ngcontent-%COMP%]{align-items:flex-start;display:flex;padding:16px 0 12px}.Account-action[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;flex:0 1 auto;margin-left:auto;padding-bottom:4px;padding-top:4px;text-align:right}.Account-details[_ngcontent-%COMP%]{align-items:flex-start;display:flex}.Account-details-username[_ngcontent-%COMP%]{max-width:calc(100% - 60px)}.Account-link[_ngcontent-%COMP%]{flex:1 1 74%;max-width:74%}.Account-membership[_ngcontent-%COMP%]{align-items:center;display:flex}.Account-membership-badge[_ngcontent-%COMP%]{flex-shrink:0}.Account-membership-value[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;margin-left:auto;text-align:right}.Account-membership-value[_ngcontent-%COMP%], .Loading[_ngcontent-%COMP%]{align-items:center;display:flex}.Loading-avatar[_ngcontent-%COMP%], .Loading-username[_ngcontent-%COMP%]{flex:0 0 auto}.Loading-avatar[_ngcontent-%COMP%]{height:46px;width:46px}.Loading-username[_ngcontent-%COMP%]{height:48px;width:100px}.Loading-value[_ngcontent-%COMP%]{align-self:flex-start;height:20px;margin-left:auto;width:50px}"],changeDetection:0}),e})()},"G/r2":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG"),c=n("cUs2");function s(){return{defaultOrder:{field:"id",direction:r.a.ASC},fetch:(e,t,n,i)=>{var a,r;return{endpoint:"users/0.1/enterprises/",params:{enterprises:t,names:Object(c.h)(n,"name"),internal_names:Object(c.h)(n,"internalName"),seo_urls:Object(c.h)(n,"seoUrl"),ignore_test:null===(a=null==n?void 0:n.searchQueryParams)||void 0===a?void 0:a.ignoreTest,offset:null===(r=null==n?void 0:n.searchQueryParams)||void 0===r?void 0:r.offset}}},push:void 0,set:void 0,update:void 0,remove:void 0}}var o=n("f6cb");function l(e){if(!Object(o.h)(e.is_test_enterprise))throw new ReferenceError("Enterpise does not have `is_test_enterprise` attribute");if(!Object(o.h)(e.date_created))throw new ReferenceError("Enterpise does not have `date_created` attribute");return{id:e.id,internalName:e.internal_name,name:e.name,isTestEnterprise:e.is_test_enterprise,seoUrl:e.seo_url,dateCreated:1e3*e.date_created,description:e.description,landingPageUrl:e.landing_page_url,logoUrl:e.logo_url}}function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("enterprises"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(c.o)(e,Object(c.z)(n.enterprises,l),a,i)}return e;default:return e}}var d=n("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({imports:[[a.j.forFeature("enterprises",u),i.d.forFeature("enterprises",s)]]}),e})()},Juij:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"id",direction:r.a.ASC},fetch:(e,t,n,i)=>({endpoint:"give-get/giveGetUser.php",isGaf:!0,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2"),o=n("e+HA");function l(e,t){return{id:t,isEligible:e.isEligible,isEmailVerified:e.isEmailVerified,isPhoneVerified:e.isPhoneVerified,isChildPaymentVerified:e.isChildPaymentVerified,localizedBonus:e.localizedBonus,localizedBonusRequirement:e.localizedBonusRequirement,referralLink:e.referralLink,userCurrency:Object(o.b)(e.userCurrency)}}function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("userGiveGetDetails"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)([n],l,i.path.authUid),a,i)}return e;default:return e}}var d=n("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({imports:[[a.j.forFeature("userGiveGetDetails",u),i.d.forFeature("userGiveGetDetails",c)]]}),e})()},KBhi:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"id",direction:r.a.ASC},fetch:(e,t,n,i)=>({endpoint:"dashboard/get-account-progress.php",isGaf:!0,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2");function o(e){return Object.assign(Object.assign({},e),{verificationCode:e.verificationCode||void 0})}function l(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("accountProgress"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)([n.accountProgress],o),a,i)}return e;default:return e}}var u=n("8Y7J");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Qb({type:e}),e.\u0275inj=u.Pb({imports:[[a.j.forFeature("accountProgress",l),i.d.forFeature("accountProgress",c)]]}),e})()},bfXL:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG");function c(){return{defaultOrder:{field:"id",direction:r.a.DESC},fetch:(e,t,n,i)=>({endpoint:"navigation/user-info.php",isGaf:!0,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=n("cUs2"),o=n("Wn5g"),l=n("f6cb"),u=n("e+HA");function d(e){return{id:e.id,userId:Object(l.s)(e.id),username:e.username,publicName:e.publicName,isFreeTrialEligible:e.isFreeTrialEligible,isPlusTrialEligible:e.isPlusTrialEligible,trialPackageId:e.trialPackageId||void 0,isPremium:e.isPremium,avatar:e.logo,membership:e.membership,membershipBadge:f(e.membershipLevel),hideMembershipUpgradeButton:e.hideMembershipUpgradeButton,trialDuration:e.trialDuration||void 0,trialLandingUrlParams:e.trialLandingUrlParams||void 0,monthlyTrial:e.monthlyTrial,canSwitchToUsers:e.canSwitchToUsers.map(e=>({userId:Object(l.s)(e.user_id),publicName:e.publicName,username:e.username,avatar:e.logoUrl,membershipBadge:f(e.membershipLevel),balance:{amount:e.balance.amount,bonusAmount:e.balance.bonusAmount,currency:Object(u.b)(e.balance.currencyInfo),id:Object(l.s)(e.balance.currencyInfo.id),primary:!0}})),isNoCommissionEligibleReferrer:e.isNoCommissionEligibleReferrer,isCorporate:e.isCorporate,enterpriseId:e.enterpriseId?e.enterpriseId:void 0}}function f(e){if(e)switch(e){case 1:return o.a.MONTHLY_LEVEL_ONE;case 2:return o.a.MONTHLY_LEVEL_TWO;case 3:return o.a.MONTHLY_LEVEL_THREE;case 4:return o.a.MONTHLY_LEVEL_FOUR;case 5:return o.a.MONTHLY_LEVEL_FIVE;default:return}}function p(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("userInfo"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(s.o)(e,Object(s.z)([n],d),a,i)}return e;case"WS_MESSAGE":{const n={path:{collection:"userInfo",authUid:t.payload.toUserId}};if("notifications"!==t.payload.parent_type)return e;switch(t.payload.type){case"profilePictureUpdate":return Object(s.A)(e,[t.payload.toUserId],e=>Object.assign(Object.assign({},e),{avatar:t.payload.data.avatar}),n);default:return e}}default:return e}}var b=n("8Y7J");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Qb({type:e}),e.\u0275inj=b.Pb({imports:[[a.j.forFeature("userInfo",p),i.d.forFeature("userInfo",c)]]}),e})()},byQ9:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n("HsDr"),a=n("lDT0"),r=n("Rnop"),c=n("o9eT"),s=n("8Y7J"),o=n("p3pP"),l=n("YFxV"),u=n("SVse"),d=n("DSso"),f=n("w13q");function p(e,t){1&e&&s.Ub(0)}function b(e,t){if(1&e&&(s.Yb(0,"fl-link",3),s.Zc(1,p,1,0,"ng-container",4),s.Xb()),2&e){const e=s.rc(),t=s.Mc(3);s.zc("color",e.LinkColor.INHERIT)("flTrackingLabel",e.trackingLabel)("link",e.link)("fragment",e.fragment)("underline",e.LinkUnderline.NEVER),s.Gb(1),s.zc("ngTemplateOutlet",t)}}function g(e,t){1&e&&s.Ub(0)}function h(e,t){if(1&e&&(s.Wb(0),s.Zc(1,g,1,0,"ng-container",4),s.Vb()),2&e){s.rc();const e=s.Mc(3);s.Gb(1),s.zc("ngTemplateOutlet",e)}}function m(e,t){if(1&e&&s.Tb(0,"fl-icon",12),2&e){const e=s.rc(3);s.zc("color",e.IconColor.INHERIT)("name",e.iconName)("size",e.IconSize.SMALL)}}function y(e,t){if(1&e&&s.Tb(0,"fl-icon",13),2&e){const e=s.rc(3);s.zc("color",e.IconColor.INHERIT)("name","ui-exit")("size",e.IconSize.SMALL)}}function S(e,t){if(1&e&&(s.Yb(0,"fl-bit",9),s.bd(1),s.Zc(2,m,1,3,"fl-icon",10),s.Zc(3,y,1,3,"fl-icon",11),s.Xb()),2&e){const e=s.rc(2);s.Gb(1),s.dd(" ",e.label," "),s.Gb(1),s.zc("ngIf",e.iconName),s.Gb(1),s.zc("ngIf",e.link&&e.external&&e.isPwaInstalled)}}function T(e,t){if(1&e&&(s.Yb(0,"fl-bit",5),s.Yb(1,"fl-bit",6),s.Yb(2,"fl-text",7),s.Zc(3,S,4,3,"fl-bit",8),s.Yb(4,"fl-bit"),s.xc(5),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&e){const e=s.rc();s.Gb(2),s.zc("color",e.FontColor.INHERIT)("fontType",e.FontType.CONTAINER),s.Gb(1),s.zc("ngIf",e.label)}}const v=["*"];let I=(()=>{class e{constructor(e,t,n){this.pwa=e,this.timeUtils=t,this.changeDetectorRef=n,this.FontColor=r.a,this.FontType=c.b,this.IconColor=i.c,this.IconSize=i.e,this.LinkColor=a.a,this.LinkUnderline=a.e,this.external=!1,this.isPwaInstalled=!1}ngOnInit(){this.timeUtils.setTimeout(()=>{this.isPwaInstalled=this.pwa.isInstalled(),this.changeDetectorRef.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(o.a),s.Sb(l.a),s.Sb(s.h))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-menu-item"]],inputs:{link:"link",label:"label",iconName:"iconName",trackingLabel:"trackingLabel",fragment:"fragment",external:"external"},ngContentSelectors:v,decls:4,vars:2,consts:[["class","MenuItem-link",3,"color","flTrackingLabel","link","fragment","underline",4,"ngIf"],[4,"ngIf"],["content",""],[1,"MenuItem-link",3,"color","flTrackingLabel","link","fragment","underline"],[4,"ngTemplateOutlet"],[1,"MenuItem-wrapper"],[1,"MenuItem-inner"],[1,"MenuItem-content",3,"color","fontType"],["class","MenuItem-label",4,"ngIf"],[1,"MenuItem-label"],["class","MenuItem-icon",3,"color","name","size",4,"ngIf"],["class","MenuItem-externalIndicator",3,"color","name","size",4,"ngIf"],[1,"MenuItem-icon",3,"color","name","size"],[1,"MenuItem-externalIndicator",3,"color","name","size"]],template:function(e,t){1&e&&(s.yc(),s.Zc(0,b,2,6,"fl-link",0),s.Zc(1,h,2,1,"ng-container",1),s.Zc(2,T,6,3,"ng-template",null,2,s.ad)),2&e&&(s.zc("ngIf",t.link),s.Gb(1),s.zc("ngIf",!t.link))},directives:[u.q,a.b,d.a,u.v,f.a,c.e,i.d],styles:["[_nghost-%COMP%]{color:#4d525b}.MenuItem-link[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block}.MenuItem-link[_ngcontent-%COMP%]:hover{color:#139ff0}.MenuItem-inner[_ngcontent-%COMP%]{align-items:center;display:flex;min-height:40px;padding-bottom:8px;padding-top:8px}.MenuItem-icon[_ngcontent-%COMP%]{padding-left:4px}.MenuItem-content[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;flex:1 1}.MenuItem-externalIndicator[_ngcontent-%COMP%]{margin-left:auto}.MenuItem-label[_ngcontent-%COMP%]{align-items:center;display:flex}.MenuItem-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),e})()},dxfW:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG"),c=n("cUs2"),s=n("2UyU");function o(){return{defaultOrder:{field:"id",direction:r.a.DESC},fetch:(e,t,n,i)=>({endpoint:"users/0.1/grants",params:{grants:t,roles:Object(c.h)(n,"roleId"),users:Object(c.h)(n,"resource").filter(e=>e.entityType===s.EntityTypeApi.USER).map(e=>e.id),projects:Object(c.h)(n,"resource").filter(e=>e.entityType===s.EntityTypeApi.PROJECT).map(e=>e.id),enterprises:Object(c.h)(n,"resource").filter(e=>e.entityType===s.EntityTypeApi.ENTERPRISE).map(e=>e.id),pools:Object(c.h)(n,"resource").filter(e=>e.entityType===s.EntityTypeApi.POOL).map(e=>e.id),permission:Object(c.h)(n,"grantedPermissions")[0]}}),push:(e,t)=>({endpoint:"users/0.1/grants",isGaf:!1,payload:{target:{id:t.entity.id,entity_type:t.entity.entityType},resource:{id:t.resource.id,entity_type:t.resource.entityType},granter:{id:t.grantingEntity.id,entity_type:t.grantingEntity.entityType},role_id:t.roleId}}),set:void 0,update:void 0,remove:void 0}}function l(e){if(!(e.id&&e.resource&&e.granting_entity&&e.entity&&e.role&&e.role.id&&e.role.name&&e.role.granted_permissions))throw new ReferenceError("Missing a required grant field.");return{id:e.id,resource:u(e.resource),grantingEntity:u(e.granting_entity),entity:u(e.entity),roleId:e.role.id,roleName:e.role.name,grantedPermissions:e.role.granted_permissions}}function u(e){if(!e.id||!e.entity_type)throw new ReferenceError("Missing a required grant field.");return{id:e.id,entityType:e.entity_type}}function d(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("grants"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(c.o)(e,Object(c.z)(n.grants,l),a,i)}return e;default:return e}}var f=n("8Y7J");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Qb({type:e}),e.\u0275inj=f.Pb({imports:[[a.j.forFeature("grants",d),i.d.forFeature("grants",o)]]}),e})()},"f+Lq":function(e,t,n){"use strict";n.d(t,"a",function(){return T});var i=n("UlxN"),a=n("OI1t"),r=n("lJxs"),c=n("8Y7J"),s=n("/wLE"),o=n("eCtd"),l=n("8B3g"),u=n("byQ9"),d=n("tbJ/"),f=n("SVse"),p=n("SMHo"),b=n("al+g");function g(e,t){1&e&&c.Tb(0,"app-menu-item",8),2&e&&c.zc("external",!0)}function h(e,t){if(1&e&&(c.Wb(0),c.Zc(1,g,1,1,"app-menu-item",7),c.Vb()),2&e){const e=t.ngIf;c.Gb(1),c.zc("ngIf",e.isEligible)}}function m(e,t){if(1&e&&(c.Wb(0),c.Zc(1,h,2,1,"ng-container",6),c.sc(2,"flAsync"),c.Vb()),2&e){const e=c.rc();c.Gb(1),c.zc("ngIf",c.tc(2,1,e.userGiveGetDetails$))}}function y(e,t){1&e&&c.Tb(0,"app-menu-item",9),2&e&&c.zc("external",!0)("flHideMobile",!0)}function S(e,t){if(1&e&&(c.Yb(0,"app-menu-item",10),c.Tb(1,"fl-language-switcher",11),c.Xb()),2&e){const e=c.rc();c.Gb(1),c.zc("color",e.LanguageSwitcherTheme.LIGHT)("compact",!0)}}let T=(()=>{class e{constructor(e,t,n){this.auth=e,this.datastore=t,this.partnerDashboardAccess=n,this.Feature=i.b,this.LanguageSwitcherTheme=a.b,this.showLanguageSwitcher=!1}ngOnInit(){const e=this.auth.getUserId();this.hasPartnerDashboardAccess$=this.partnerDashboardAccess.getAccessibleDashboards().pipe(Object(r.a)(e=>!!e.length)),this.userGiveGetDetails$=this.datastore.document("userGiveGetDetails",e).valueChanges()}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(s.a),c.Sb(o.a),c.Sb(l.a))},e.\u0275cmp=c.Mb({type:e,selectors:[["app-menu-settings"]],inputs:{showLanguageSwitcher:"showLanguageSwitcher"},decls:7,vars:8,consts:function(){let e,t,n,i,a,r;return e="Support",t="Partner dashboard",n="Language",i="Terms and conditions",a="Logout",r="Invite friends",[["label",e,"link","/support/categories","trackingLabel","Account-Support",3,"external"],[4,"flFeature"],["label",t,"link","/partner-dashboard","trackingLabel","PartnerDashboardLink",3,"external","flHideMobile",4,"ngIf"],["label",n,4,"ngIf"],["label",i,"link","/about/terms","trackingLabel","goToTerms",3,"external","flShowMobile"],["label",a,"link","/logout","trackingLabel","Account-Logout"],[4,"ngIf"],["iconName","ui-gift-card","label",r,"link","/give","trackingLabel","Account-InviteFriend",3,"external",4,"ngIf"],["iconName","ui-gift-card","label",r,"link","/give","trackingLabel","Account-InviteFriend",3,"external"],["label",t,"link","/partner-dashboard","trackingLabel","PartnerDashboardLink",3,"external","flHideMobile"],["label",n],[3,"color","compact"]]},template:function(e,t){1&e&&(c.Tb(0,"app-menu-item",0),c.Zc(1,m,3,3,"ng-container",1),c.Zc(2,y,1,2,"app-menu-item",2),c.sc(3,"flAsync"),c.Zc(4,S,2,2,"app-menu-item",3),c.Tb(5,"app-menu-item",4),c.Tb(6,"app-menu-item",5)),2&e&&(c.zc("external",!0),c.Gb(1),c.zc("flFeature",t.Feature.GIVE_GET),c.Gb(1),c.zc("ngIf",c.tc(3,6,t.hasPartnerDashboardAccess$)),c.Gb(2),c.zc("ngIf",t.showLanguageSwitcher),c.Gb(1),c.zc("external",!0)("flShowMobile",!0))},directives:[u.a,d.a,f.q,p.a,a.a],pipes:[b.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()},hFqS:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("dxfW"),a=n("G/r2"),r=n("pjJp"),c=n("8B3g"),s=n("8Y7J");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({providers:[c.a],imports:[[i.a,a.a,r.a]]}),e})()},jetO:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var i=n("Rnop"),a=n("o9eT"),r=n("f6cb"),c=n("lJxs"),s=n("pLZG"),o=n("8Y7J"),l=n("eCtd"),u=n("byQ9"),d=n("w13q"),f=n("SVse"),p=n("SMHo"),b=n("3S66"),g=n("al+g"),h=n("K8/m");function m(e,t){if(1&e&&(o.Yb(0,"fl-text",12),o.bd(1),o.sc(2,"flCurrency"),o.Xb()),2&e){const e=t.ngIf,n=o.rc();o.zc("color",n.FontColor.MID)("fontType",n.FontType.SPAN)("size",n.TextSize.XXSMALL),o.Gb(1),o.dd(" ",o.uc(2,4,e.amount,e.currency.code)," ")}}function y(e,t){if(1&e&&(o.Yb(0,"fl-text",14),o.bd(1),o.sc(2,"flCurrency"),o.Xb()),2&e){const e=t.$implicit,n=o.rc(2);o.zc("color",n.FontColor.MID)("fontType",n.FontType.SPAN)("size",n.TextSize.XXSMALL),o.Gb(1),o.dd(" ",o.uc(2,4,e.amount,e.currency.code)," ")}}function S(e,t){if(1&e&&(o.Wb(0),o.Zc(1,y,3,7,"fl-text",13),o.Vb()),2&e){const e=t.ngIf,n=o.rc();o.Gb(1),o.zc("ngForOf",e)("ngForTrackBy",n.trackByUserBalance)}}function T(e,t){if(1&e&&(o.Yb(0,"fl-text",14),o.cc(1,15),o.sc(2,"flCurrency"),o.Xb()),2&e){const e=t.$implicit,n=o.rc(2);o.zc("color",n.FontColor.MID)("fontType",n.FontType.SPAN)("size",n.TextSize.XXSMALL),o.Gb(2),o.gc(o.uc(2,4,e.bonusAmount,e.currency.code)),o.dc(1)}}function v(e,t){if(1&e&&(o.Wb(0),o.Zc(1,T,3,7,"fl-text",13),o.Vb()),2&e){const e=t.ngIf,n=o.rc();o.Gb(1),o.zc("ngForOf",e)("ngForTrackBy",n.trackByUserBalance)}}function I(e,t){1&e&&o.Tb(0,"app-menu-item",16),2&e&&o.zc("external",!0)}function C(e,t){1&e&&o.Tb(0,"fl-loading-text",17),2&e&&o.zc("rows",1)("padded",!1)}let P=(()=>{class e{constructor(e){this.datastore=e,this.FontColor=i.a,this.FontType=a.b,this.TextSize=a.f}ngOnInit(){this.userBalances$=this.datastore.collection("userBalances").valueChanges(),this.defaultBalance$=this.userBalances$.pipe(Object(c.a)(e=>e.find(e=>e.primary)),Object(s.a)(r.h)),this.otherUserBalances$=this.userBalances$.pipe(Object(c.a)(e=>e.filter(e=>!e.primary&&0!==e.amount))),this.bonusBalances$=this.userBalances$.pipe(Object(c.a)(e=>e.filter(e=>0!==e.bonusAmount))),this.paymentShareWhitelistStatus$=this.datastore.collection("paymentShareWhitelistItems").valueChanges().pipe(Object(c.a)(e=>!!e[0]))}trackByUserBalance(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(l.a))},e.\u0275cmp=o.Mb({type:e,selectors:[["app-menu-finances"]],decls:18,vars:17,consts:function(){let e,t,n,i,a,r,c;return e=" Balance ",t="Make a deposit",n="Withdraw funds",i="Transaction history",a="Financial dashboard",r="Payment sharing",c=" " + "\ufffd0\ufffd" + " Bonus ",[[1,"Finances-balances"],[1,"Finances-header"],[1,"Finances-header-label"],e,["class","Finances-header-value",3,"color","fontType","size",4,"ngIf","ngIfElse"],[4,"ngIf"],["label",t,"link","/deposit","trackingLabel","Finances-DepositFunds"],["label",n,"link","/payments/withdraw.php","trackingLabel","Finances-WithdrawFunds",3,"external"],["label",i,"link","/payments/transactions.php","trackingLabel","Finances-TransactionHistory",3,"external"],["label",a,"link","/users/financial-dash/","trackingLabel","Finances-FinancialDashboard",3,"external","flHideMobile"],["label",r,"link","/users/settings.php","fragment","PaymentSettings","trackingLabel","Finances-PaymentSharing",3,"external",4,"ngIf"],["loadingValue",""],[1,"Finances-header-value",3,"color","fontType","size"],["class","Finances-balance",3,"color","fontType","size",4,"ngFor","ngForOf","ngForTrackBy"],[1,"Finances-balance",3,"color","fontType","size"],c,["label",r,"link","/users/settings.php","fragment","PaymentSettings","trackingLabel","Finances-PaymentSharing",3,"external"],[1,"Loading-value",3,"rows","padded"]]},template:function(e,t){if(1&e&&(o.Yb(0,"app-menu-item",0),o.Yb(1,"fl-bit",1),o.Yb(2,"fl-bit",2),o.cc(3,3),o.Xb(),o.Zc(4,m,3,7,"fl-text",4),o.sc(5,"flAsync"),o.Xb(),o.Zc(6,S,2,2,"ng-container",5),o.sc(7,"flAsync"),o.Zc(8,v,2,2,"ng-container",5),o.sc(9,"flAsync"),o.Xb(),o.Tb(10,"app-menu-item",6),o.Tb(11,"app-menu-item",7),o.Tb(12,"app-menu-item",8),o.Tb(13,"app-menu-item",9),o.Zc(14,I,1,1,"app-menu-item",10),o.sc(15,"flAsync"),o.Zc(16,C,1,2,"ng-template",null,11,o.ad)),2&e){const e=o.Mc(17);o.Gb(4),o.zc("ngIf",o.tc(5,9,t.defaultBalance$))("ngIfElse",e),o.Gb(2),o.zc("ngIf",o.tc(7,11,t.otherUserBalances$)),o.Gb(2),o.zc("ngIf",o.tc(9,13,t.bonusBalances$)),o.Gb(3),o.zc("external",!0),o.Gb(1),o.zc("external",!0),o.Gb(1),o.zc("external",!0)("flHideMobile",!0),o.Gb(1),o.zc("ngIf",o.tc(15,15,t.paymentShareWhitelistStatus$))}},directives:[u.a,d.a,f.q,p.a,a.e,f.p,b.a],pipes:[g.a,h.a],styles:["[_nghost-%COMP%]{display:block}.Finances-header[_ngcontent-%COMP%]{align-items:center;display:flex}.Finances-header-value[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:auto}.Finances-balance[_ngcontent-%COMP%], .Finances-header-value[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;text-align:right}.Finances-balance[_ngcontent-%COMP%]{display:block;padding-top:12px}.Loading-value[_ngcontent-%COMP%]{align-self:flex-start;height:20px;margin-left:auto;width:50px}"],changeDetection:0}),e})()},lby3:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n("9u4R"),a=n("tqRt"),r=n("OpNG"),c=n("cUs2"),s=n("DR1w"),o=n("f6cb"),l=n("ueDg");function u(){return{defaultOrder:{field:"id",direction:r.a.DESC},fetch:(e,t,n,i)=>{var a,u,f,p,b,g,h,m,y,S,T;const v=Object(c.h)(n,"type");let I={full_description:"true",job_details:"true",location_details:"true",upgrade_details:"true",user_country_details:"true",user_details:"true",user_employer_reputation:"true",countries:null===(a=null==n?void 0:n.searchQueryParams)||void 0===a?void 0:a.countries,currency_ids:Object(c.h)(n,"currency").map(e=>e.id),jobs:Object(c.h)(n,"skillIds")[0],languages:Object(c.h)(n,"language"),latitude:null===(u=null==n?void 0:n.searchQueryParams)||void 0===u?void 0:u.latitude,longitude:null===(f=null==n?void 0:n.searchQueryParams)||void 0===f?void 0:f.longitude,offset:null===(p=null==n?void 0:n.searchQueryParams)||void 0===p?void 0:p.offset,pool_ids:Object(c.h)(n,"poolIds")[0],project_types:v,project_upgrades:null===(b=Object(c.h)(n,"upgradeNames")[0])||void 0===b?void 0:b.map(e=>function(e){switch(e){case s.f.FEATURED:return"featured";case s.f.SEALED:return"sealed";case s.f.NDA:return"NDA";case s.f.URGENT:return"urgent";case s.f.FULL_TIME:return"fulltime";case s.f.ASSISTED:return"assisted";default:return}}(e)).filter(e=>Object(o.h)(e)),query:(null===(g=null==n?void 0:n.searchQueryParams)||void 0===g?void 0:g.query)||(null===(h=null==n?void 0:n.searchQueryParams)||void 0===h?void 0:h.q),reverse_sort:Object(o.g)(i)&&i[0]&&i[0].direction===r.a.ASC||void 0,sort_field:Object(o.g)(i)&&i[0]?d(i[0].field):void 0};const C=!Object(o.h)(v)||0===v.length;return(C||v.includes(l.ProjectTypeApi.HOURLY))&&(I=Object.assign(Object.assign({},I),{max_avg_hourly_rate:null===(m=null==n?void 0:n.searchQueryParams)||void 0===m?void 0:m.maxHourlyRate,min_avg_hourly_rate:null===(y=null==n?void 0:n.searchQueryParams)||void 0===y?void 0:y.minHourlyRate})),(C||v.includes(l.ProjectTypeApi.FIXED))&&(I=Object.assign(Object.assign({},I),{max_avg_price:null===(S=null==n?void 0:n.searchQueryParams)||void 0===S?void 0:S.maxFixedPrice,min_avg_price:null===(T=null==n?void 0:n.searchQueryParams)||void 0===T?void 0:T.minFixedPrice})),{endpoint:"projects/0.1/projects/active",params:I}},push:void 0,set:void 0,update:void 0,remove:void 0}}function d(e){switch(e){case"bidCount":return"bid_count";case"maximumBudget":case"minimumBudget":return"bid_avg_usd";case"timeSubmitted":return"submitdate";default:return}}var f=n("7OQ1");function p(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("searchActiveProjects"===t.payload.type){const{result:n,ref:i,order:a}=t.payload;return Object(c.o)(e,Object(c.z)(n.projects,f.b,n.users),a,i,n.total_count||0)}return e;case"WS_MESSAGE":if("notifications"===t.payload.parent_type){const n={path:{collection:"searchActiveProjects",authUid:t.payload.toUserId}};switch(t.payload.type){case"projectSearchActive":return Object(c.b)(e,[t.payload],f.c,n);default:return e}}return e;default:return e}}var b=n("8Y7J");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Qb({type:e}),e.\u0275inj=b.Pb({imports:[[a.j.forFeature("searchActiveProjects",p),i.d.forFeature("searchActiveProjects",u)]]}),e})()},mt4I:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("8Y7J"),a=n("9Aot"),r=n("byQ9"),c=n("SVse"),s=n("B23V"),o=n("DSso"),l=n("nrR+");function u(e,t){if(1&e){const e=i.Zb();i.Yb(0,"fl-button",1),i.nc("click",function(){i.Pc(e);const n=t.$implicit;return i.rc().switch(n)}),i.Tb(1,"app-user-card",2),i.Xb()}if(2&e){const e=t.$implicit,n=t.last,a=i.rc();i.zc("display","block")("flMarginBottom",n?a.Margin.NONE:a.Margin.XSMALL),i.Gb(1),i.zc("balance",e.balance)("user",e)}}let d=(()=>{class e{constructor(){this.Margin=a.a,this.switchAccount=new i.n}switch(e){this.switchAccount.emit(e)}trackByUserInfo(e,t){return t.userId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Mb({type:e,selectors:[["app-menu-switch-account"]],inputs:{users:"users"},outputs:{switchAccount:"switchAccount"},decls:2,vars:2,consts:[["flTrackingLabel","Account-SwitchAccount",3,"display","flMarginBottom","click",4,"ngFor","ngForOf","ngForTrackBy"],["flTrackingLabel","Account-SwitchAccount",3,"display","flMarginBottom","click"],[3,"balance","user"]],template:function(e,t){1&e&&(i.Yb(0,"app-menu-item"),i.Zc(1,u,2,4,"fl-button",0),i.Xb()),2&e&&(i.Gb(1),i.zc("ngForOf",t.users)("ngForTrackBy",t.trackByUserInfo))},directives:[r.a,c.p,s.b,o.a,a.b,l.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()},"nrR+":function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n("UlxN"),a=n("HsDr"),r=n("9Aot"),c=n("Rnop"),s=n("o9eT"),o=n("71eJ"),l=n("dJr3"),u=n("8Y7J"),d=n("HEOu"),f=n("w13q"),p=n("SVse"),b=n("3S66"),g=n("al+g"),h=n("K8/m");function m(e,t){if(1&e&&(u.Tb(0,"fl-username",9),u.sc(1,"flAsync"),u.sc(2,"flAsync")),2&e){const e=u.rc();u.zc("color",e.UsernameColor.INHERIT)("displayName",u.tc(1,5,e.showUsernameTag$)?"":e.user.publicName)("showUsernameTag",u.tc(2,7,e.showUsernameTag$))("truncateText",!0)("username",e.user.username)}}function y(e,t){if(1&e&&(u.Yb(0,"fl-text",10),u.bd(1),u.sc(2,"flCurrency"),u.Xb()),2&e){const e=u.rc();u.zc("color",e.FontColor.INHERIT)("size",e.TextSize.INHERIT),u.Gb(1),u.dd(" ",u.uc(2,3,e.balance.amount,e.balance.currency.code)," ")}}function S(e,t){if(1&e&&u.Tb(0,"fl-loading-text",11),2&e){const e=u.rc();u.zc("flMarginBottom",e.Margin.XXXSMALL)("rows",1)("padded",!1)}}function T(e,t){1&e&&u.Tb(0,"fl-loading-text",12),2&e&&u.zc("rows",1)("padded",!1)}const v=function(e){return[e]};let I=(()=>{class e{constructor(e){this.featureFlagService=e,this.AvatarSize=o.a,this.FontColor=c.a,this.TextSize=s.f,this.IconSize=a.e,this.IconColor=a.c,this.Margin=r.a,this.UsernameColor=l.a,this.truncate=!1}ngOnChanges(){this.showUsernameTag$=this.featureFlagService.getFlag(i.b.DISPLAY_USERNAME)}}return e.\u0275fac=function(t){return new(t||e)(u.Sb(d.a))},e.\u0275cmp=u.Mb({type:e,selectors:[["app-user-card"]],inputs:{balance:"balance",rightIconName:"rightIconName",truncate:"truncate",user:"user"},features:[u.Eb],decls:11,vars:13,consts:[[1,"UserCard"],[3,"flMarginRight","size","users"],[1,"UserCard-details"],[3,"color","displayName","showUsernameTag","truncateText","username",4,"ngIf","ngIfElse"],[3,"color","size",4,"ngIf","ngIfElse"],["loadingUser",""],["loadingBalance",""],[1,"UserCard-subDetails"],[3,"name","size","color"],[3,"color","displayName","showUsernameTag","truncateText","username"],[3,"color","size"],[1,"LoadingTextContainer",3,"flMarginBottom","rows","padded"],[1,"LoadingTextContainer",3,"rows","padded"]],template:function(e,t){if(1&e&&(u.Yb(0,"fl-bit",0),u.Tb(1,"fl-user-avatar",1),u.Yb(2,"fl-bit",2),u.Zc(3,m,3,9,"fl-username",3),u.Zc(4,y,3,6,"fl-text",4),u.Zc(5,S,1,3,"ng-template",null,5,u.ad),u.Zc(7,T,1,2,"ng-template",null,6,u.ad),u.Xb(),u.Yb(9,"fl-bit",7),u.Tb(10,"fl-icon",8),u.Xb(),u.Xb()),2&e){const e=u.Mc(6),n=u.Mc(8);u.Gb(1),u.zc("flMarginRight",t.Margin.XXSMALL)("size",t.AvatarSize.SMALL)("users",u.Ec(11,v,t.user)),u.Gb(1),u.Hb("data-truncate",t.truncate),u.Gb(1),u.zc("ngIf",t.user)("ngIfElse",e),u.Gb(1),u.zc("ngIf",t.balance)("ngIfElse",n),u.Gb(6),u.zc("name",t.rightIconName)("size",t.IconSize.XSMALL)("color",t.IconColor.INHERIT)}},directives:[f.a,o.b,r.b,p.q,a.d,l.b,s.e,b.a],pipes:[g.a,h.a],styles:[".UserCard[_ngcontent-%COMP%]{align-items:center;display:flex}.UserCard-details[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;font-size:13px;justify-content:center;line-height:1.2;transform:translateY(-2px)}@media (min-width:768px){.UserCard-details[data-truncate=true][_ngcontent-%COMP%]{flex:0 1 84px;width:84px}}@media (min-width:1200px){.UserCard-details[data-truncate=true][_ngcontent-%COMP%]{flex:0 1 168px;width:168px}}.UserCard-subDetails[_ngcontent-%COMP%]{align-items:center;display:flex;flex:0 0 auto;margin-left:auto}.LoadingTextContainer[_ngcontent-%COMP%]{height:14px}"],changeDetection:0}),e})()},rPt3:function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u});var i=n("2UyU"),a=n("qILo"),r=function(e){return e.MARKETPLACE_STATS="marketplaceStats",e.PROJECT_DETAILS="projectDetails",e.PROJECT_TRACKER="projectTracker",e.CONCIERGE_QUEUE="conciergeQueue",e}({});const c={[r.MARKETPLACE_STATS]:{[i.EntityTypeApi.ENTERPRISE]:[a.GrantedPermissionApi.VIEW_MARKETPLACE_STATS]},[r.PROJECT_DETAILS]:{[i.EntityTypeApi.ENTERPRISE]:[a.GrantedPermissionApi.VIEW_PROJECT_MILESTONES,a.GrantedPermissionApi.VIEW_PROJECT_THREADS,a.GrantedPermissionApi.VIEW_PROJECT_NDA_DETAILS,a.GrantedPermissionApi.VIEW_PRIVATE_BIDS,a.GrantedPermissionApi.VIEW_SUPPORT_SESSIONS,a.GrantedPermissionApi.VIEW_ALL_PROJECTS]},[r.PROJECT_TRACKER]:{[i.EntityTypeApi.ENTERPRISE]:[a.GrantedPermissionApi.VIEW_PROJECT_MILESTONES,a.GrantedPermissionApi.VIEW_PROJECT_THREADS,a.GrantedPermissionApi.VIEW_PROJECT_NDA_DETAILS,a.GrantedPermissionApi.VIEW_PRIVATE_BIDS,a.GrantedPermissionApi.VIEW_SUPPORT_SESSIONS,a.GrantedPermissionApi.VIEW_ALL_PROJECTS]},[r.CONCIERGE_QUEUE]:{[i.EntityTypeApi.ENTERPRISE]:[a.GrantedPermissionApi.VIEW_PRIVATE_BIDS,a.GrantedPermissionApi.VIEW_PROJECT_NDA_DETAILS,a.GrantedPermissionApi.CREATE_PROJECT_COLLABORATION]}},s={deloitte_dc:i.EnterpriseApi.DELOITTE_DC,arrow:i.EnterpriseApi.ARROW,facebook:i.EnterpriseApi.FACEBOOK},o={arrow:[r.MARKETPLACE_STATS,r.PROJECT_TRACKER,r.PROJECT_DETAILS,r.CONCIERGE_QUEUE],ibm:[r.PROJECT_TRACKER],default:[r.PROJECT_TRACKER,r.PROJECT_DETAILS]},l={arrow:!0,deloitte_dc:!1,facebook:!0,ibm:!0,default:!0},u={arrow:void 0,deloitte_dc:void 0,facebook:void 0,ibm:"IBM"}},"u+i4":function(e,t,n){"use strict";n.d(t,"a",function(){return W});var i=n("mrSG"),a=n("8Y7J"),r=n("ph87"),c=n("HsDr"),s=n("9Aot"),o=n("f6cb"),l=n("itXk"),u=n("lJxs"),d=function(e){return e.LIST="LIST",e.SETTINGS="SETTINGS",e}({}),f=n("eCtd"),p=n("w792"),b=n("L1P6"),g=n("SVse"),h=n("lDT0"),m=n("Krui"),y=n("o9eT"),S=n("w13q"),T=n("SMHo"),v=n("B23V"),I=n("DSso"),C=n("Te+H"),P=n("7ENy");function O(e,t){if(1&e){const e=a.Zb();a.Yb(0,"fl-button",10),a.nc("click",function(){return a.Pc(e),a.rc(2).handleSettings()}),a.Tb(1,"fl-icon",11),a.Xb()}if(2&e){const e=a.rc(2);a.Gb(1),a.zc("color",e.IconColor.PRIMARY)("name","ui-cog-v2")("size",e.IconSize.SMALL)}}function E(e,t){if(1&e&&(a.Yb(0,"fl-bit",4),a.Yb(1,"fl-text",5),a.cc(2,6),a.Xb(),a.Yb(3,"fl-text",7),a.cc(4,8),a.Xb(),a.Zc(5,O,2,3,"fl-button",9),a.Xb()),2&e){const e=a.rc();a.Gb(1),a.zc("flHideMobile",!0)("flMarginRight",e.Margin.MID)("size",e.TextSize.XXSMALL)("textTransform",e.TextTransform.UPPERCASE)("weight",e.FontWeight.BOLD),a.Gb(2),a.zc("flHideTablet",!0)("flHideDesktop",!0)("flMarginRight",e.Margin.MID)("size",e.TextSize.XXSMALL)("textTransform",e.TextTransform.UPPERCASE)("weight",e.FontWeight.BOLD),a.Gb(2),a.zc("ngIf",e.hasPreferences)}}function _(e,t){if(1&e){const e=a.Zb();a.Yb(0,"fl-bit",12),a.Yb(1,"fl-link",13),a.nc("click",function(){return a.Pc(e),a.rc().handleSettings()}),a.cc(2,14),a.Xb(),a.Xb()}if(2&e){const e=a.rc();a.zc("flShowMobile",!0),a.Gb(1),a.zc("iconName","ui-arrow-right")("iconPosition",e.LinkIconPosition.RIGHT)}}function M(e,t){if(1&e&&a.Tb(0,"app-notification-item",19),2&e){const e=a.rc().$implicit;a.zc("event",e)}}function A(e,t){if(1&e&&a.Tb(0,"app-project-item",20),2&e){const e=a.rc().$implicit;a.zc("entry",e)}}function k(e,t){if(1&e&&(a.Wb(0),a.Zc(1,M,1,1,"app-notification-item",17),a.Zc(2,A,1,1,"app-project-item",18),a.Vb()),2&e){const e=t.$implicit,n=a.rc(2);a.Gb(1),a.zc("ngIf",n.isNotificationEntry(e)),a.Gb(1),a.zc("ngIf",!n.isNotificationEntry(e))}}function L(e,t){if(1&e&&(a.Yb(0,"fl-bit",15),a.Zc(1,k,3,2,"ng-container",16),a.Xb()),2&e){const e=a.rc();a.Hb("data-is-callout",e.isCallout),a.Gb(1),a.zc("ngForOf",e.updates)}}function w(e,t){if(1&e&&(a.Yb(0,"fl-bit",21),a.Tb(1,"fl-picture",22),a.Yb(2,"fl-text",23),a.cc(3,24),a.Xb(),a.Yb(4,"fl-text",25),a.ic(5,26),a.Tb(6,"fl-link",27),a.fc(),a.Xb(),a.Xb()),2&e){const e=a.rc();a.Gb(1),a.zc("alignCenter",!0)("display",e.PictureDisplay.BLOCK)("flMarginBottom",e.Margin.SMALL)("src","navigation/updates/empty-updates-v2.svg"),a.Gb(1),a.zc("weight",e.FontWeight.INHERIT)("size",e.TextSize.MID)("sizeTablet",e.TextSize.XXSMALL)("textAlign",e.TextAlign.CENTER)("flMarginBottom",e.Margin.XSMALL)("flMarginBottomTablet",e.Margin.NONE),a.Gb(2),a.zc("size",e.TextSize.SMALL)("sizeTablet",e.TextSize.XXSMALL)("textAlign",e.TextAlign.CENTER),a.Gb(2),a.zc("link","/post-project")("size",e.TextSize.INHERIT)}}let z=(()=>{class e{constructor(){this.TextSize=y.f,this.FontWeight=y.c,this.IconColor=c.c,this.IconSize=c.e,this.LinkColor=h.a,this.LinkIconPosition=h.d,this.LinkUnderline=h.e,this.Margin=s.a,this.PictureDisplay=m.b,this.TextAlign=y.d,this.TextTransform=y.g,this.hideHeading=!1,this.isCallout=!0,this.clickSettings=new a.n}isNotificationEntry(e){return e&&"parent_type"in e&&"notifications"===e.parent_type}handleSettings(){this.clickSettings.emit(d.SETTINGS)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["app-updates-list"]],inputs:{hasPreferences:"hasPreferences",updates:"updates",hideHeading:"hideHeading",isCallout:"isCallout"},outputs:{clickSettings:"clickSettings"},decls:5,vars:4,consts:function(){let e,t,n,i,a,r,c;return e=" Recent Updates ",t=" Updates ",n="Notification Settings",i=" Notification settings ",a="Empty Updates Image",r=" Sorry, you don't have any updates. ",c=" Would you like to " + "\ufffd#6\ufffd" + " post a project" + "\ufffd/#6\ufffd" + "? ",[["class","Heading",4,"ngIf"],["class","Settings",3,"flShowMobile",4,"ngIf"],["class","List",4,"ngIf","ngIfElse"],["noUpdates",""],[1,"Heading"],[3,"flHideMobile","flMarginRight","size","textTransform","weight"],e,[3,"flHideTablet","flHideDesktop","flMarginRight","size","textTransform","weight"],t,["flTrackingLabel","Updates-Options",3,"click",4,"ngIf"],["flTrackingLabel","Updates-Options",3,"click"],["title",n,3,"color","name","size"],[1,"Settings",3,"flShowMobile"],["flTrackingLabel","Notification-settings",3,"iconName","iconPosition","click"],i,[1,"List"],[4,"ngFor","ngForOf"],[3,"event",4,"ngIf"],[3,"entry",4,"ngIf"],[3,"event"],[3,"entry"],[1,"Empty"],["alt",a,1,"EmptyImg",3,"alignCenter","display","flMarginBottom","src"],[1,"Empty-header",3,"weight","size","sizeTablet","textAlign","flMarginBottom","flMarginBottomTablet"],r,[3,"size","sizeTablet","textAlign"],c,["flTrackingLabel","Updates-PostProject",3,"link","size"]]},template:function(e,t){if(1&e&&(a.Zc(0,E,6,12,"fl-bit",0),a.Zc(1,_,3,3,"fl-bit",1),a.Zc(2,L,2,2,"fl-bit",2),a.Zc(3,w,7,15,"ng-template",null,3,a.ad)),2&e){const e=a.Mc(4);a.zc("ngIf",!t.hideHeading),a.Gb(1),a.zc("ngIf",t.updates&&t.updates.length>0),a.Gb(1),a.zc("ngIf",t.updates&&t.updates.length>0)("ngIfElse",e)}},directives:[g.q,S.a,y.e,T.a,s.b,v.b,I.a,c.d,h.b,g.p,C.a,P.a,m.a],styles:["[_nghost-%COMP%]{display:block}.Heading[_ngcontent-%COMP%]{justify-content:space-between;padding:24px 24px 16px}.Heading[_ngcontent-%COMP%], .Settings[_ngcontent-%COMP%]{align-items:center;border-bottom:1px solid #dedede;display:flex}.Settings[_ngcontent-%COMP%]{justify-content:flex-end;padding:12px 16px}.Empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 52px - env(safe-area-inset-bottom) - env(safe-area-inset-top));justify-content:center;padding-bottom:calc(52px - env(safe-area-inset-bottom) - env(safe-area-inset-top))}.Empty-header[_ngcontent-%COMP%]{font-weight:700}@media (min-width:768px){.Empty[_ngcontent-%COMP%]{display:block;height:auto;padding-bottom:24px}.Empty-header[_ngcontent-%COMP%]{font-weight:400}}@media (min-width:768px){.EmptyImg[_ngcontent-%COMP%]{height:58px;margin-top:24px}}.List[data-is-callout=false][_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}@media (min-width:768px){.List[data-is-callout=true][_ngcontent-%COMP%]{height:calc(100vh - 185px - env(safe-area-inset-bottom));overflow-y:auto;position:relative}}@media (min-width:768px) and (min-height:564px){.List[data-is-callout=true][_ngcontent-%COMP%]{max-height:404px;min-height:375px}}.ShowMore[_ngcontent-%COMP%]{margin-top:12px}"],changeDetection:0}),e})();var x=n("KUXl"),j=n("s7LF"),R=n("fYbj"),F=n("KtYJ"),U=n("SYW+"),G=n("kvoA");function N(e,t){if(1&e){const e=a.Zb();a.Yb(0,"fl-bit",5),a.Yb(1,"fl-button",6),a.nc("click",function(){return a.Pc(e),a.rc().handleBack()}),a.Tb(2,"fl-icon",7),a.Xb(),a.Yb(3,"fl-text",8),a.cc(4,9),a.Xb(),a.Xb()}if(2&e){const e=a.rc();a.Gb(1),a.zc("flMarginRight",e.Margin.XXSMALL),a.Gb(1),a.zc("name","ui-arrow-left-alt")("size",e.IconSize.SMALL),a.Gb(1),a.zc("flMarginRight",e.Margin.MID)("size",e.TextSize.XXSMALL)("textTransform",e.TextTransform.UPPERCASE)("weight",e.FontWeight.BOLD)}}function B(e,t){if(1&e&&(a.Tb(0,"fl-checkbox",16),a.sc(1,"pascalCase")),2&e){const e=a.rc().ngIf,t=a.rc().$implicit;a.Bc("flTrackingLabel","UpdateSettings-",a.tc(1,3,t.channel),""),a.zc("control",e)("label",t.name)}}function D(e,t){if(1&e&&(a.Wb(0),a.Zc(1,B,2,5,"fl-checkbox",15),a.Vb()),2&e){const e=t.ngIf,n=a.rc(3);a.Gb(1),a.zc("ngIf",n.isFormControl(e))}}function H(e,t){if(1&e&&(a.Wb(0),a.Zc(1,D,2,1,"ng-container",14),a.Vb()),2&e){const e=t.$implicit,n=a.rc(2);a.Gb(1),a.zc("ngIf",n.settingsForm.get(e.channel))}}function X(e,t){if(1&e&&(a.Yb(0,"fl-bit",10),a.Yb(1,"fl-text",11),a.cc(2,12),a.Xb(),a.Zc(3,H,2,1,"ng-container",13),a.Xb()),2&e){const e=a.rc();a.Hb("data-is-callout",e.isCallout),a.Gb(3),a.zc("ngForOf",e.filters)("ngForTrackBy",e.trackById)}}let Y=(()=>{class e{constructor(){this.TextSize=y.f,this.FontType=y.b,this.FontWeight=y.c,this.IconSize=c.e,this.isFormControl=o.l,this.LinkIconPosition=h.d,this.ListItemType=F.f,this.Margin=s.a,this.TextTransform=y.g,this.trackById=R.m,this.hideHeading=!1,this.isCallout=!0,this.clickBack=new a.n}handleBack(){this.clickBack.emit(d.LIST)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["app-updates-settings-list"]],inputs:{filters:"filters",settingsForm:"settingsForm",hideHeading:"hideHeading",isCallout:"isCallout"},outputs:{clickBack:"clickBack"},decls:5,vars:5,consts:function(){let e,t,n,i;return e=" Back ",t="Update Settings Back",n=" Notification Settings ",i=" Please mark the categories of projects that you would like to receive notifications about. ",[["class","Heading",4,"ngIf"],[1,"Settings",3,"flShowMobile"],["flTrackingLabel","UpdatesSettings-Back",3,"iconName","iconPosition","click"],e,["class","List",4,"ngIf"],[1,"Heading"],["title",t,"flTrackingLabel","UpdatesSettings-Back",3,"flMarginRight","click"],[3,"name","size"],[3,"flMarginRight","size","textTransform","weight"],n,[1,"List"],[1,"List-hint"],i,[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","List-content",3,"flTrackingLabel","control","label",4,"ngIf"],[1,"List-content",3,"flTrackingLabel","control","label"]]},template:function(e,t){1&e&&(a.Zc(0,N,5,7,"fl-bit",0),a.Yb(1,"fl-bit",1),a.Yb(2,"fl-link",2),a.nc("click",function(){return t.handleBack()}),a.cc(3,3),a.Xb(),a.Xb(),a.Zc(4,X,4,3,"fl-bit",4)),2&e&&(a.zc("ngIf",!t.hideHeading),a.Gb(1),a.zc("flShowMobile",!0),a.Gb(1),a.zc("iconName","ui-arrow-left")("iconPosition",t.LinkIconPosition.LEFT),a.Gb(2),a.zc("ngIf",t.filters&&t.filters.length>0))},directives:[g.q,S.a,T.a,h.b,I.a,v.b,s.b,c.d,y.e,g.p,U.a],pipes:[G.a],styles:[".Heading[_ngcontent-%COMP%]{padding:24px 24px 16px}.Heading[_ngcontent-%COMP%], .Settings[_ngcontent-%COMP%]{align-items:center;border-bottom:1px solid #dedede;display:flex}.Settings[_ngcontent-%COMP%]{padding:12px 16px}.List[_ngcontent-%COMP%]{align-items:flex-start;display:flex;flex-direction:column;min-height:375px;overflow-y:auto;padding-top:16px;position:relative}@media (min-width:768px){.List[_ngcontent-%COMP%]{max-height:404px}}.List[data-is-callout=false][_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}.List-hint[_ngcontent-%COMP%]{padding:0 24px 12px}.List-content[_ngcontent-%COMP%]{display:block;margin-bottom:0;padding:8px 24px;width:100%}.List-content[_ngcontent-%COMP%]:last-child{padding-bottom:16px}"],changeDetection:0}),e})(),$=(()=>{class e{constructor(e){this.formBuilder=e,this.isCallout=!0,this.hideHeading=!1,this.clickBack=new a.n,this.settingsUpdate=new a.n}ngOnInit(){this.settingsForm=this.formBuilder.group(Object(o.e)(this.filters.map(e=>[e.channel,e.enabled]))),this.formValueChangeSubscription=this.settingsForm.valueChanges.subscribe(e=>{const t=this.filters.filter(t=>t.enabled!==e[t.channel]).map(t=>Object.assign(Object.assign({},t),{enabled:e[t.channel]}));t.length&&this.settingsUpdate.emit(t)})}ngOnDestroy(){this.formValueChangeSubscription&&this.formValueChangeSubscription.unsubscribe()}handleBack(){this.clickBack.emit(d.LIST)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(j.e))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-updates-settings"]],inputs:{filters:"filters",isCallout:"isCallout",hideHeading:"hideHeading"},outputs:{clickBack:"clickBack",settingsUpdate:"settingsUpdate"},decls:1,vars:4,consts:[[3,"filters","settingsForm","hideHeading","isCallout","clickBack"]],template:function(e,t){1&e&&(a.Yb(0,"app-updates-settings-list",0),a.nc("clickBack",function(){return t.handleBack()}),a.Xb()),2&e&&a.zc("filters",t.filters)("settingsForm",t.settingsForm)("hideHeading",t.hideHeading)("isCallout",t.isCallout)},directives:[Y],encapsulation:2,changeDetection:0}),e})();var V=n("al+g");function J(e,t){if(1&e){const e=a.Zb();a.Yb(0,"app-updates-list",2),a.nc("clickSettings",function(t){return a.Pc(e),a.rc().handleChangeView(t)}),a.sc(1,"flAsync"),a.sc(2,"flAsync"),a.Xb()}if(2&e){const e=a.rc();a.zc("hideHeading",e.hideHeading)("hasPreferences",a.tc(1,4,e.hasPreferences$))("updates",a.tc(2,6,e.updates$))("isCallout",e.isCallout)}}function Z(e,t){if(1&e){const e=a.Zb();a.Yb(0,"app-updates-settings",3),a.nc("clickBack",function(t){return a.Pc(e),a.rc().handleChangeView(t)})("settingsUpdate",function(t){return a.Pc(e),a.rc().handleSettingsUpdate(t)}),a.Xb()}if(2&e){const e=t.ngIf,n=a.rc();a.zc("hideHeading",n.hideHeading)("filters",e)("isCallout",n.isCallout)}}let W=(()=>{class e{constructor(e,t,n,i){this.changeDetectorRef=e,this.datastore=t,this.webSocketService=n,this.localStorage=i,this.NavigationUpdatesView=d,this.IconColor=c.c,this.IconSize=c.e,this.Margin=s.a,this.hideHeading=!1,this.isCallout=!0,this.unreadCount=new a.n,this.view=d.LIST}handleReadAction(){return Object(i.a)(this,void 0,void 0,function*(){yield this.localStorage.set("navUpdatesLastReadTime",Date.now())})}ngOnInit(){this.rawNotificationsPreferencesCollection=this.datastore.collection("notificationsPreferences");const e=this.rawNotificationsPreferencesCollection.valueChanges().pipe(Object(u.a)(e=>e.filter(e=>e.channel.startsWith("job_"))));this.websocketChannelSubscription=e.subscribe(e=>this.webSocketService.setChannels(e.filter(e=>e.enabled).map(e=>Object(o.s)(e.channel.split("_")[1])))),this.notificationsPreferences$=e.pipe(Object(u.a)(e=>e.filter(e=>"live"===e.notificationType))),this.hasPreferences$=this.notificationsPreferences$.pipe(Object(u.a)(e=>e.length>0)),this.notifications$=this.datastore.collection("notifications").valueChanges().pipe(Object(u.a)(e=>e.filter(r.b)));const t=e.pipe(Object(u.a)(e=>e.filter(e=>e.enabled).map(e=>{const t=e.channel.split("_");if(t.length>=2)return Object(o.s)(t[1])}).filter(o.h)));this.projectFeed$=l.a([this.datastore.collection("projectFeed",e=>e.where("jobIds","intersects",t)).valueChanges(),this.datastore.collection("projectFeedFailingProjects",e=>e.where("jobIds","intersects",t)).valueChanges(),this.datastore.collection("projectFeedFailingContests",e=>e.where("jobIds","intersects",t)).valueChanges()]).pipe(Object(u.a)(([e,t,n])=>[...e,...t,...n])),this.updates$=l.a([this.notifications$,this.projectFeed$]).pipe(Object(u.a)(([e,t])=>[...e,...t].sort((e,t)=>t.time-e.time))),this.unreadCountSubscription=l.a([this.updates$,this.localStorage.get("navUpdatesLastReadTime")]).pipe(Object(u.a)(([e,t])=>e.filter(e=>e.time>(t||0)))).subscribe(e=>this.unreadCount.emit(e.length))}ngOnDestroy(){this.unreadCountSubscription&&this.unreadCountSubscription.unsubscribe(),this.readStatusSubscription&&this.readStatusSubscription.unsubscribe(),this.websocketChannelSubscription&&this.websocketChannelSubscription.unsubscribe()}handleChangeView(e){this.view=e,this.changeDetectorRef.markForCheck()}handleSettingsUpdate(e){e.map(e=>this.rawNotificationsPreferencesCollection.set(e.id,e)),this.changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(a.h),a.Sb(f.a),a.Sb(p.a),a.Sb(b.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-updates"]],hostBindings:function(e,t){1&e&&a.nc("click",function(){return t.handleReadAction()})("mouseenter",function(){return t.handleReadAction()})},inputs:{hideHeading:"hideHeading",isCallout:"isCallout"},outputs:{unreadCount:"unreadCount"},decls:3,vars:4,consts:[["flTrackingSection","NavigationPrimary",3,"hideHeading","hasPreferences","updates","isCallout","clickSettings",4,"ngIf"],["flTrackingSection","NavigationPrimary",3,"hideHeading","filters","isCallout","clickBack","settingsUpdate",4,"ngIf"],["flTrackingSection","NavigationPrimary",3,"hideHeading","hasPreferences","updates","isCallout","clickSettings"],["flTrackingSection","NavigationPrimary",3,"hideHeading","filters","isCallout","clickBack","settingsUpdate"]],template:function(e,t){1&e&&(a.Zc(0,J,3,8,"app-updates-list",0),a.Zc(1,Z,1,3,"app-updates-settings",1),a.sc(2,"flAsync")),2&e&&(a.zc("ngIf",t.view===t.NavigationUpdatesView.LIST),a.Gb(1),a.zc("ngIf",t.view===t.NavigationUpdatesView.SETTINGS&&a.tc(2,2,t.notificationsPreferences$)))},directives:[g.q,z,x.a,$],pipes:[V.a],encapsulation:2,changeDetection:0}),e})()},ugsI:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("89Av");function a(e){if(!e.updated)throw new Error("Missing updated param on a group");return{id:e.id,name:e.name,creatorId:e.creator_id,creatorType:e.creator_type,seoUrl:e.seo_url,groupType:e.group_type,description:e.description,created:e.created,isDeleted:e.is_deleted,updated:e.updated,isFeedRead:e.is_feed_read,orderByFeedReadLatestTimeInMs:(e.is_feed_read?0:i.a)+(e.last_active_time?e.last_active_time:0),coverImageUrl:e.cover_image_url,lastActiveTimeInMs:e.last_active_time}}}}]);
//# sourceMappingURL=default~app-app-shell-logged-in-routing-module~app-navigation-navigation-primary-navigation-pages-na~dd59e3e9-es2015.ea7199343cdd769b8698.js.map