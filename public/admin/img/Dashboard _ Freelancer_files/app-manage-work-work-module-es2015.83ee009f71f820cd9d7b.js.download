(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{"68xK":function(e,t,n){"use strict";n.d(t,"a",function(){return w});var i=n("8Y7J"),a=n("B23V"),o=n("dO68"),c=n("HsDr"),s=n("lDT0"),r=n("KtYJ"),l=n("9Aot"),u=n("o9eT"),b=n("f6cb"),p=n("JX91"),d=n("eFqL"),h=n("97Vh"),g=n("YFxV"),f=n("w13q"),m=n("SVse"),T=n("zOIv");const S=["dropdown"];function y(e,t){if(1&e){const e=i.Zb();i.Wb(0),i.Yb(1,"fl-split-button-primary",5),i.nc("click",function(t){i.Pc(e);const n=i.rc();return t.stopPropagation(),n.primaryClicked.emit(),n.hideOptions()}),i.xc(2),i.Xb(),i.Vb()}if(2&e){const e=i.rc();i.Gb(1),i.zc("color",e.color)("display",e.display)("link",e.options[0].link)("linkQueryParams",e.options[0].linkQueryParams)("size",e.size)("busy",e.busy)("buttonGroupFirst",e.options.length>1)}}function P(e,t){1&e&&(i.Wb(0),i.xc(1,1),i.Vb())}function C(e,t){if(1&e){const e=i.Zb();i.Yb(0,"fl-button",6),i.nc("click",function(t){i.Pc(e);const n=i.rc();return t.stopPropagation(),n.toggleShouldShowOptions()}),i.Tb(1,"fl-icon",7),i.Xb()}if(2&e){const e=i.rc();i.zc("color",e.color)("size",e.size)("buttonGroupLast",!0),i.Gb(1),i.zc("name",e.chevronType)("size",e.iconSize)("color",e.chevronColor)}}function O(e,t){if(1&e){const e=i.Zb();i.Yb(0,"fl-split-button-option",11),i.nc("click",function(n){i.Pc(e);const a=t.$implicit,o=i.rc(3);return n.stopPropagation(),o.optionSelected.emit(a),o.hideOptions()}),i.Xb()}if(2&e){const e=t.$implicit,n=i.rc(3);i.zc("copy",e.copy)("link",e.link)("linkQueryParams",e.linkQueryParams)("iconName",e.iconName)("fontSize",n.fontSize)("optionPadding",n.optionPadding)}}function z(e,t){if(1&e&&(i.Wb(0),i.Zc(1,O,1,6,"fl-split-button-option",10),i.Vb()),2&e){const e=i.rc(2);i.Gb(1),i.zc("ngForOf",e.dropdownOptions)("ngForTrackBy",e.trackByCopy)}}function E(e,t){1&e&&(i.Wb(0),i.xc(1,2),i.Vb())}function A(e,t){if(1&e&&(i.Yb(0,"fl-card",8,9),i.Yb(2,"ul"),i.Zc(3,z,2,2,"ng-container",2),i.Zc(4,E,2,0,"ng-container",2),i.Xb(),i.Xb()),2&e){const e=i.rc();i.zc("edgeToEdge",!0)("maxContent",!1),i.Hb("data-position",e.position),i.Gb(3),i.zc("ngIf",e.dropdownOptions),i.Gb(1),i.zc("ngIf",!e.dropdownOptions)}}const v=["*",[["fl-split-button-primary"]],[["fl-split-button-option"]]],I=["*","fl-split-button-primary","fl-split-button-option"];let w=(()=>{class e{constructor(e,t){this.timeUtils=e,this.changeDetectorRef=t,this.Margin=l.a,this.ButtonColor=a.a,this.ButtonSize=o.a,this.TextSize=u.f,this.FontType=u.b,this.HoverColor=c.a,this.LinkColor=s.a,this.LinkHoverColor=s.c,this.LinkUnderline=s.e,this.ListItemType=r.f,this.iconSize=c.e.MID,this.chevronType="ui-chevron-down",this.shouldShowOptions=!1,this.position=d.b.BOTTOM,this.display="inline",this.primaryClicked=new i.n,this.optionSelected=new i.n}get fontSize(){switch(this.size){case o.a.MINI:return u.f.XXSMALL;case o.a.SMALL:return u.f.XSMALL;case o.a.LARGE:case o.a.XLARGE:case o.a.XXLARGE:return u.f.SMALL;default:return Object(b.b)(this.size)}}get optionPadding(){switch(this.size){case o.a.MINI:return r.e.XXSMALL;case o.a.SMALL:return r.e.XSMALL;case o.a.LARGE:case o.a.XLARGE:case o.a.XXLARGE:return r.e.SMALL;default:return Object(b.b)(this.size)}}documentClick(e){e&&this.shouldShowOptions&&this.toggleShouldShowOptions()}ngOnChanges(e){if(this.applyStylesToPrimaryBtn(),this.applyStylesToOptions(),"options"in e&&this.options&&(this.dropdownOptions=this.options.slice(1)),this.splitButtonPrimary&&this.primaryClicked.observers.length>0)throw new Error("Template driven split buttons do not support (primaryClicked) and (optionSelected) outputs. Use click handlers on child components instead")}ngOnInit(){this.iconSize=[o.a.MINI,o.a.SMALL].includes(this.size)?c.e.XSMALL:c.e.SMALL,this.chevronColor=[a.a.DEFAULT,a.a.TRANSPARENT_DARK].includes(this.color)?c.c.DARK:c.c.LIGHT}ngAfterContentInit(){this.applyStylesToPrimaryBtn(),this.splitButtonOptionSubscription=this.splitButtonOptions.changes.pipe(Object(p.a)(this.splitButtonOptions.toArray())).subscribe(()=>this.applyStylesToOptions())}applyStylesToPrimaryBtn(){if(this.splitButtonPrimary){const e=this.splitButtonPrimary;e.changeDetectorRef.detach(),e.busy=this.busy,e.size=this.size,e.display=this.display,e.color=this.color,e.buttonGroupFirst=this.splitButtonOptions.length>0,e.changeDetectorRef.reattach(),e.changeDetectorRef.detectChanges()}}applyStylesToOptions(){this.splitButtonOptions&&this.splitButtonOptions.forEach(e=>{e.changeDetectorRef.detach(),e.fontSize=this.fontSize,e.optionPadding=this.optionPadding,e.iconSize=this.iconSize,e.changeDetectorRef.reattach(),e.changeDetectorRef.detectChanges()})}hideOptions(){this.shouldShowOptions=!1,this.updateChevron(),this.setDropdownPosition()}toggleShouldShowOptions(){this.shouldShowOptions=!this.shouldShowOptions,this.updateChevron(),this.timeUtils.setTimeout(()=>{this.setDropdownPosition()})}updateChevron(){this.chevronType=this.shouldShowOptions?"ui-chevron-up":"ui-chevron-down"}setDropdownPosition(){if(this.dropdown&&(this.position=d.b.BOTTOM,this.changeDetectorRef.detectChanges(),this.shouldShowOptions)){const e=this.dropdown.nativeElement.getBoundingClientRect().top+this.dropdown.nativeElement.getBoundingClientRect().height;this.position=e>window.innerHeight?d.b.TOP:d.b.BOTTOM,this.changeDetectorRef.detectChanges()}}ngOnDestroy(){var e;null===(e=this.splitButtonOptionSubscription)||void 0===e||e.unsubscribe()}trackByCopy(e,t){return t.copy}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(g.a),i.Sb(i.h))},e.\u0275cmp=i.Mb({type:e,selectors:[["fl-split-button"]],contentQueries:function(e,t,n){if(1&e&&(i.Lb(n,h.a,1),i.Lb(n,d.a,0)),2&e){let e;i.Lc(e=i.oc())&&(t.splitButtonPrimary=e.first),i.Lc(e=i.oc())&&(t.splitButtonOptions=e)}},viewQuery:function(e,t){if(1&e&&i.id(S,1,i.l),2&e){let e;i.Lc(e=i.oc())&&(t.dropdown=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&i.nc("click",function(e){return t.documentClick(e)},!1,i.Nc),2&e&&i.Hb("data-display",t.display)("data-option-font-size",t.size)},inputs:{color:"color",options:"options",busy:"busy",display:"display",size:"size"},outputs:{primaryClicked:"primaryClicked",optionSelected:"optionSelected"},features:[i.Eb],ngContentSelectors:I,decls:6,vars:4,consts:function(){let e;return e="More Options",[[1,"SplitButtonContainer"],[1,"ButtonGroup"],[4,"ngIf"],["class","ChevronButton","title",e,3,"color","size","buttonGroupLast","click",4,"ngIf"],["class","OptionListCard",3,"edgeToEdge","maxContent",4,"ngIf"],[3,"color","display","link","linkQueryParams","size","busy","buttonGroupFirst","click"],["title",e,1,"ChevronButton",3,"color","size","buttonGroupLast","click"],[1,"ChevronButtonIcon",3,"name","size","color"],[1,"OptionListCard",3,"edgeToEdge","maxContent"],["dropdown",""],[3,"copy","link","linkQueryParams","iconName","fontSize","optionPadding","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"copy","link","linkQueryParams","iconName","fontSize","optionPadding","click"]]},template:function(e,t){1&e&&(i.yc(v),i.Yb(0,"fl-bit",0),i.Yb(1,"fl-bit",1),i.Zc(2,y,3,7,"ng-container",2),i.Zc(3,P,2,0,"ng-container",2),i.Zc(4,C,2,6,"fl-button",3),i.Xb(),i.Zc(5,A,5,5,"fl-card",4),i.Xb()),2&e&&(i.Gb(2),i.zc("ngIf",(null==t.options?null:t.options.length)>0),i.Gb(1),i.zc("ngIf",(null==t.splitButtonOptions?null:t.splitButtonOptions.length)>0),i.Gb(1),i.zc("ngIf",(null==t.options?null:t.options.length)>1&&!t.busy||(null==t.splitButtonOptions?null:t.splitButtonOptions.length)>0&&!t.busy),i.Gb(1),i.zc("ngIf",t.shouldShowOptions))},directives:[f.a,m.q,h.a,a.b,c.d,T.b,m.p,d.a],styles:['[data-display=block][_nghost-%COMP%]{display:block;width:100%}[data-display=block][_nghost-%COMP%]   .SplitButtonContainer[_ngcontent-%COMP%], [data-display=block][_nghost-%COMP%]   .SplitButtonContainer[_ngcontent-%COMP%]   .ButtonGroup[_ngcontent-%COMP%]{width:100%}[data-option-font-size=mini][_nghost-%COMP%]   .ChevronButton.ChevronButton[_ngcontent-%COMP%]{width:24px}[data-option-font-size=mini][_nghost-%COMP%]   .ChevronButtonIcon[_ngcontent-%COMP%]{transform:translateY(-1px)}[data-option-font-size=small][_nghost-%COMP%]   .ChevronButton.ChevronButton[_ngcontent-%COMP%]{width:30px}[data-option-font-size=large][_nghost-%COMP%]   .ChevronButton.ChevronButton[_ngcontent-%COMP%]{width:42px}[data-option-font-size=xlarge][_nghost-%COMP%]   .ChevronButton.ChevronButton[_ngcontent-%COMP%]{width:52px}[data-option-font-size=xxlarge][_nghost-%COMP%]   .ChevronButton.ChevronButton[_ngcontent-%COMP%]{width:60px}.SplitButtonContainer[_ngcontent-%COMP%]{display:inline-flex;position:relative}.ButtonGroup[_ngcontent-%COMP%]{display:flex}.OptionListCard[_ngcontent-%COMP%]{animation:fadeIn .15s;color:#0e1724;left:0;min-width:100%;position:absolute;z-index:900}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.OptionListCard[data-position=top][_ngcontent-%COMP%]{bottom:calc(100% + 4px)}.OptionListCard[data-position=bottom][_ngcontent-%COMP%]{top:calc(100% + 4px)}.ChevronButton.ChevronButton[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:center;padding:0;position:relative}.ChevronButton.ChevronButton[_ngcontent-%COMP%]:after{content:"";height:100%;left:0;position:absolute;top:0;width:100%}'],changeDetection:0}),e})()},"97Vh":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("8Y7J"),a=n("B23V");const o=["*"];let c=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.display="inline"}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(i.h))},e.\u0275cmp=i.Mb({type:e,selectors:[["fl-split-button-primary"]],hostVars:1,hostBindings:function(e,t){2&e&&i.Hb("data-display",t.display)},inputs:{link:"link",linkQueryParams:"linkQueryParams",buttonGroupFirst:"buttonGroupFirst",busy:"busy",size:"size",color:"color",display:"display"},ngContentSelectors:o,decls:2,vars:7,consts:[[1,"PrimaryButton",3,"color","display","link","queryParams","size","busy","buttonGroupFirst"]],template:function(e,t){1&e&&(i.yc(),i.Yb(0,"fl-button",0),i.xc(1),i.Xb()),2&e&&i.zc("color",t.color)("display",t.display)("link",t.link)("queryParams",t.linkQueryParams)("size",t.size)("busy",t.busy)("buttonGroupFirst",t.buttonGroupFirst&&!t.busy)},directives:[a.b],styles:["[_nghost-%COMP%]{display:block}[data-display=block][_nghost-%COMP%]{width:100%}.PrimaryButton[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word}"],changeDetection:0}),e})()},eFqL:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return T});var i=n("HsDr"),a=n("lDT0"),o=n("KtYJ"),c=n("9Aot"),s=n("o9eT"),r=n("8Y7J"),l=n("SVse"),u=n("w13q");function b(e,t){1&e&&r.Ub(0)}function p(e,t){if(1&e&&(r.Yb(0,"fl-text",3),r.Zc(1,b,1,0,"ng-container",4),r.Xb()),2&e){const e=r.rc(),t=r.Mc(3);r.zc("size",e.fontSize),r.Gb(1),r.zc("ngTemplateOutlet",t)}}function d(e,t){1&e&&r.Ub(0)}function h(e,t){if(1&e&&(r.Yb(0,"fl-link",5),r.Zc(1,d,1,0,"ng-container",4),r.Xb()),2&e){const e=r.rc(),t=r.Mc(3);r.zc("color",e.LinkColor.INHERIT)("hoverColor",e.LinkHoverColor.INHERIT)("link",e.link)("queryParams",e.linkQueryParams)("size",e.fontSize)("underline",e.LinkUnderline.NEVER),r.Gb(1),r.zc("ngTemplateOutlet",t)}}function g(e,t){if(1&e&&r.Tb(0,"fl-icon",9),2&e){const e=r.rc(2);r.zc("name",e.iconName)("size",e.iconSize)("flMarginRight",e.Margin.XXSMALL)}}function f(e,t){if(1&e&&(r.Yb(0,"fl-list-item",6),r.Yb(1,"fl-bit",7),r.Zc(2,g,1,3,"fl-icon",8),r.bd(3),r.Xb(),r.Xb()),2&e){const e=r.rc();r.zc("clickable",!0)("type",e.ListItemType.NON_BORDERED)("padding",e.optionPadding),r.Gb(2),r.zc("ngIf",e.iconName),r.Gb(1),r.dd(" ",e.copy," ")}}var m=function(e){return e.TOP="top",e.BOTTOM="bottom",e}({});let T=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.LinkColor=a.a,this.LinkHoverColor=a.c,this.LinkUnderline=a.e,this.ListItemType=o.f,this.Margin=c.a,this.fontSize=s.f.XSMALL,this.iconSize=i.e.MID,this.optionPadding=o.e.XSMALL,this.ariaRole="listitem"}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(r.h))},e.\u0275cmp=r.Mb({type:e,selectors:[["fl-split-button-option"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Hb("role",t.ariaRole)},inputs:{fontSize:"fontSize",iconSize:"iconSize",optionPadding:"optionPadding",link:"link",linkQueryParams:"linkQueryParams",iconName:"iconName",copy:"copy"},decls:4,vars:2,consts:[[3,"size",4,"ngIf"],[3,"color","hoverColor","link","queryParams","size","underline",4,"ngIf"],["content",""],[3,"size"],[4,"ngTemplateOutlet"],[3,"color","hoverColor","link","queryParams","size","underline"],[3,"clickable","type","padding"],[1,"OptionListItem"],[3,"name","size","flMarginRight",4,"ngIf"],[3,"name","size","flMarginRight"]],template:function(e,t){1&e&&(r.Zc(0,p,2,2,"fl-text",0),r.Zc(1,h,2,7,"fl-link",1),r.Zc(2,f,4,5,"ng-template",null,2,r.ad)),2&e&&(r.zc("ngIf",!t.link),r.Gb(1),r.zc("ngIf",t.link))},directives:[l.q,s.e,l.v,a.b,o.b,u.a,i.d,c.b],styles:["[_nghost-%COMP%]{display:block}.OptionListItem[_ngcontent-%COMP%]{align-items:center;display:flex;white-space:nowrap}"],changeDetection:0}),e})()},ijPD:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("SVse"),a=n("cokP"),o=n("8Y7J");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({imports:[[i.c,a.a]]}),e})()},n0rP:function(e,t,n){"use strict";var i,a,o,c,s,r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SupportTypeApi||(t.SupportTypeApi={})).TECHNICAL="technical",r.RECRUITER="recruiter",r.GENERAL="general",r.LOCAL="local",r.DEPOSIT_FAILURE="deposit_failure",r.EQA="eqa",r.OFFSITE_MESSAGING="offsite_messaging",r.BRIEF_IMPROVEMENT="brief_improvement",r.META_MODERATE="meta_moderate",r.PFP_APPLICATIONS="pfp_applications",r.SALES="sales",r.PAYMENT_SATISFACTION="payment_satisfaction",r.PFP_TICKETS="pfp_tickets",r.PROJECT_QUALITY_AUDIT="project_quality_audit",r.MEMBERSHIP_CURATION="membership_curation",r.PROJECT_MANAGEMENT="project_management",r.EXPERT_FREELANCER_SCREENING="expert_freelancer_screening",r.ACCOUNT_CLOSURE="account_closure",r.SUCCESS_MANAGER="success_manager",r.PROFILE_PICTURE_CURATION="profile_picture_curation",r.DISCOVER="discover",r.PJP_ASSISTANT="pjp_assistant",r.ARROW_CONCIERGE="arrow_concierge",r.AWAITING_VERIFICATION="awaiting_verification",r.FREELANCER_VERIFIED="freelancer_verified",t.SupportExceptionCodesApi||(t.SupportExceptionCodesApi={}),(s=t.AgentStateApi||(t.AgentStateApi={})).DISABLED="disabled",s.AVAILABLE="available",s.UNAVAILABLE="unavailable",s.AWAY="away",(c=t.AgentOwnerTypeApi||(t.AgentOwnerTypeApi={})).FREELANCER_ADMIN="freelancer_admin",c.ARROW_SUPER_USER="arrow_super_user",(o=t.SourceTypeApi||(t.SourceTypeApi={})).USER="user",o.PROJECT="project",o.INVOICE="invoice",o.OFFSITE="offsite",o.TRANSACTION="transaction",o.TICKET="ticket",(a=t.AgentSessionStateApi||(t.AgentSessionStateApi={})).UNASSIGNED="unassigned",a.ASSIGNED="assigned",a.RESOLVED="resolved",(i=t.AgentSessionOrderByApi||(t.AgentSessionOrderByApi={})).SESSION_CREATE_TIME_ASC="session_create_time_asc",i.SESSION_CREATE_TIME_DSC="session_create_time_dsc",i.AGENT_SESSION_CREATE_TIME_ASC="agent_session_create_time_asc",i.AGENT_SESSION_CREATE_TIME_DSC="agent_session_create_time_dsc",i.AGENT_SESSION_RESOLVED_TIME_ASC="agent_session_resolved_time_asc",i.AGENT_SESSION_RESOLVED_TIME_DSC="agent_session_resolved_time_dsc"},unig:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("lJxs");function a(e){return Object(i.a)(t=>t.map(t=>t[e]))}},vKoE:function(e,t,n){"use strict";n.r(t),n.d(t,"WorkModule",function(){return _t});var i=n("SVse"),a=n("cNBb"),o=n("EXHp"),c=n("18b0"),s=n("cokP"),r=n("HRo3"),l=n("iInd"),u=n("oKFp"),b=n("unig"),p=n("97vJ"),d=n("JGim"),h=n("dO68"),g=n("9Aot"),f=n("xsV1"),m=n("Rnop"),T=n("o9eT"),S=n("f6cb"),y=n("I+LH"),P=n("FPmO"),C=n("2Vo4"),O=n("itXk"),z=n("lJxs"),E=n("/uUt"),A=n("vkgz"),v=n("eDZp"),I=n("8Y7J"),w=n("B0Fo"),M=n("/wLE"),L=n("eCtd"),R=n("DsW6"),_=n("l3jN"),k=n("w13q"),$=n("SMHo"),j=n("EJ97"),N=n("SZ6u"),B=n("+RVK"),G=n("riYv"),V=n("B23V"),x=n("2UyU"),F=n("tsv4"),D=n("ueDg"),H=n("JX91"),X=n("yeKy"),W=n("68xK"),Y=n("Bxc1"),Z=n("al+g");function U(e,t){if(1&e&&(I.ic(0,1,1),I.Tb(1,"fl-online-indicator",5),I.sc(2,"flAsync"),I.fc()),2&e){const e=I.rc();I.Gb(1),I.zc("flMarginRight",e.Margin.XXSMALL)("isOnline",I.tc(2,2,e.isChatOnline$))}}function q(e,t){if(1&e&&(I.ic(0,4,1),I.Tb(1,"fl-online-indicator",5),I.sc(2,"flAsync"),I.fc()),2&e){const e=I.rc();I.Gb(1),I.zc("flMarginRight",e.Margin.XXSMALL)("isOnline",I.tc(2,2,e.isChatOnline$))}}var Q=function(e){return e.VIEW_MY_ENTRIES="View My Entries",e.VIEW_ALL_ENTRIES="View All Entries",e.SUBMIT_NEW_ENTRY="Submit New Entry",e.VIEW_OFFER="View Offer",e.SIGN_AGREEMENT="Sign Agreement",e.MANAGE_FILES="Manage Files",e.CHAT="Chat",e.VIEW_HANDOVER="View Handover",e.VIEW_ENTRY="View Entry",e.REVIEW_EMPLOYER="Review Client",e.ADD_TO_PORTFOLIO="Add to Portfolio",e}({});let J=(()=>{class e{constructor(e,t,n){this.datastore=e,this.messaging=t,this.tracking=n,this.ButtonColor=V.a,this.Margin=g.a,this.WorkContestActions=Q,this.actions=[{copy:"Loading"}],this.viewMyEntriesAction={copy:Q.VIEW_MY_ENTRIES},this.viewAllEntriesAction={copy:Q.VIEW_ALL_ENTRIES},this.submitNewEntryAction={copy:Q.SUBMIT_NEW_ENTRY},this.viewOfferAction={copy:Q.VIEW_OFFER},this.signAgreementAction={copy:Q.SIGN_AGREEMENT},this.manageFilesAction={copy:Q.MANAGE_FILES},this.chatAction={copy:Q.CHAT},this.viewHandoverAction={copy:Q.VIEW_HANDOVER},this.viewEntryAction={copy:Q.VIEW_ENTRY},this.reviewEmployerAction={copy:Q.REVIEW_EMPLOYER},this.addToPortfolioAction={copy:Q.ADD_TO_PORTFOLIO}}ngOnChanges(e){("contest"in e||"handover"in e)&&this.contest&&(this.handover?this.handover.sellerConfirmed&&this.handover.buyerConfirmed?this.actions=[this.viewHandoverAction,this.viewEntryAction,this.reviewEmployerAction,this.addToPortfolioAction].filter(e=>this.filterReleasedPrizesAction(e)):(this.actions=[this.signAgreementAction,this.manageFilesAction,this.chatAction,this.viewEntryAction,this.viewAllEntriesAction].filter(e=>this.filterPendingPrizesAction(e)),this.isChatOnline$=this.datastore.document("onlineOffline",this.handover.buyerId).valueChanges().pipe(Object(z.a)(e=>e.status===G.OnlineOfflineStatusApi.ONLINE),Object(H.a)(!1))):this.actions=[this.viewMyEntriesAction,this.viewAllEntriesAction,this.submitNewEntryAction],this.actions=this.actions.map(e=>this.mapActionLinks(e)))}filterPendingPrizesAction(e){switch(e){case this.signAgreementAction:return!this.handover.sellerSignedContract;case this.manageFilesAction:return this.handover.sellerSignedContract&&this.handover.buyerSignedContract;default:return!0}}filterReleasedPrizesAction(e){switch(e){case this.reviewEmployerAction:return!this.review&&!1;case this.addToPortfolioAction:return!this.isNda;default:return!0}}onOptionSelected(e){let t={};switch(e){case this.viewMyEntriesAction:case this.submitNewEntryAction:case this.viewAllEntriesAction:t={contest_id:this.contest.id};break;case this.chatAction:this.messaging.startChat({userIds:[this.handover.buyerId,this.handover.sellerId],threadType:F.ThreadTypeApi.PRIVATE_CHAT,origin:"",context:{type:x.ContextTypeApi.CONTEST,id:this.handover.contestId}}),t={handover_id:this.handover.id};break;case this.signAgreementAction:case this.manageFilesAction:case this.viewHandoverAction:t={handover_id:this.handover.id};break;case this.viewEntryAction:case this.addToPortfolioAction:t={entry_id:this.handover.entryId}}this.tracking.trackCustomEvent(e.copy.replace(/\s+/g,""),"ManageWorkContestActions",t)}mapActionLinks(e){switch(e){case this.viewMyEntriesAction:return Object.assign(Object.assign({},e),{link:`/${this.contest.seoUrl}`,linkQueryParams:{tab:"entries",filter_freelancer:this.user.id}});case this.viewAllEntriesAction:case this.viewOfferAction:return Object.assign(Object.assign({},e),{link:`/${this.contest.seoUrl}`,linkQueryParams:{tab:"entries"}});case this.submitNewEntryAction:return Object.assign(Object.assign({},e),{link:`/${this.contest.seoUrl}`,linkQueryParams:{tab:"upload"}});case this.signAgreementAction:case this.manageFilesAction:case this.viewHandoverAction:return Object.assign(Object.assign({},e),{link:"/contest/handover.php",linkQueryParams:{entry_id:this.handover.entryId}});case this.viewEntryAction:return Object.assign(Object.assign({},e),{link:`/${this.contest.seoUrl}-byentry-${this.handover.entryId}`});case this.reviewEmployerAction:return Object.assign(Object.assign({},e),{link:"/users/review/rate.php",linkQueryParams:{type:D.ReviewTypeApi.CONTEST,id:this.handover.contestId,entryIdFromHandoverPage:this.handover.entryId}});case this.addToPortfolioAction:return Object.assign(Object.assign({},e),{link:`/u/${this.user.username}/portfolio`,linkQueryParams:{page:"portfolio"}});default:return e}}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(L.a),I.Sb(X.d),I.Sb(R.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["app-work-contest-actions"]],inputs:{user:"user",contest:"contest",isNda:"isNda",handover:"handover",review:"review",size:"size",sizeTablet:"sizeTablet"},features:[I.Eb],decls:6,vars:16,consts:function(){let e,t;return e="" + "\ufffd*2:1\ufffd\ufffd#1:1\ufffd" + "" + "\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd" + " " + "\ufffd0\ufffd" + " ",t="" + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "" + "\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd" + " " + "\ufffd0\ufffd" + " ",[[3,"busy","color","display","flShowMobile","options","size","optionSelected","primaryClicked"],e,[3,"flMarginRight","isOnline",4,"ngIf"],[3,"busy","color","display","flHideMobile","options","size","optionSelected","primaryClicked"],t,[3,"flMarginRight","isOnline"]]},template:function(e,t){1&e&&(I.Yb(0,"fl-split-button",0),I.nc("optionSelected",function(e){return t.onOptionSelected(e)})("primaryClicked",function(){return t.onOptionSelected(t.actions[0])}),I.ic(1,1),I.Zc(2,U,3,4,"fl-online-indicator",2),I.fc(),I.Xb(),I.Yb(3,"fl-split-button",3),I.nc("optionSelected",function(e){return t.onOptionSelected(e)})("primaryClicked",function(){return t.onOptionSelected(t.actions[0])}),I.ic(4,4),I.Zc(5,q,3,4,"fl-online-indicator",2),I.fc(),I.Xb()),2&e&&(I.zc("busy","Loading"===t.actions[0].copy)("color",t.ButtonColor.DEFAULT)("display","block")("flShowMobile",!0)("options",t.actions)("size",t.size),I.Gb(2),I.zc("ngIf",t.actions[0].copy===t.WorkContestActions.CHAT),I.gc(t.actions[0].copy),I.dc(1),I.Gb(1),I.zc("busy","Loading"===t.actions[0].copy)("color",t.ButtonColor.DEFAULT)("display","block")("flHideMobile",!0)("options",t.actions)("size",t.sizeTablet),I.Gb(2),I.zc("ngIf",t.actions[0].copy===t.WorkContestActions.CHAT),I.gc(t.actions[0].copy),I.dc(4))},directives:[W.a,$.a,i.q,Y.a,g.b],pipes:[Z.a],styles:["[_nghost-%COMP%]{white-space:nowrap}"],changeDetection:0}),e})();var K=n("U99T"),ee=n("LYcv"),te=n("3S66");function ne(e,t){if(1&e&&I.Tb(0,"app-manage-project-title",16),2&e){const e=I.rc().$implicit,t=I.rc(3);I.zc("projectId",e.contest.id)("seoUrl",e.contest.seoUrl)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("tableType",t.ManageTableType.CONTEST)("title",e.contest.title)}}function ie(e,t){if(1&e&&(I.Zc(0,ne,1,6,"app-manage-project-title",14),I.Tb(1,"app-manage-username",15)),2&e){const e=t.$implicit,n=I.rc(3),i=I.Mc(5);I.zc("ngIf",e.contest)("ngIfElse",i),I.Gb(1),I.zc("flShowMobile",!0)("size",n.TextSize.SMALL)("sizeTablet",n.TextSize.XSMALL)("userId",e.buyerDetails.id)("username",e.buyerDetails.username)}}function ae(e,t){if(1&e&&I.Tb(0,"app-manage-username",17),2&e){const e=t.$implicit;I.zc("userId",e.buyerDetails.id)("username",e.buyerDetails.username)}}function oe(e,t){if(1&e&&(I.Yb(0,"fl-text",19),I.bd(1),I.Xb()),2&e){const e=I.rc().$implicit;I.zc("maxLines",2),I.Gb(1),I.ed(" #",e.entry.number," ",e.entry.title?"- "+e.entry.title:""," ")}}function ce(e,t){if(1&e&&I.Zc(0,oe,2,3,"fl-text",18),2&e){const e=t.$implicit;I.rc(3);const n=I.Mc(5);I.zc("ngIf",e.entry)("ngIfElse",n)}}function se(e,t){if(1&e&&(I.Wb(0),I.Tb(1,"app-manage-currency",20),I.Tb(2,"app-manage-currency",21),I.Vb()),2&e){const e=I.rc().$implicit,t=I.rc(3);I.Gb(1),I.zc("amount",e.entry.status===t.EntryStatusApi.BOUGHT?e.entry.sellPrice:e.contest.prize)("currencyCode",e.contest.currency.code)("flHideMobile",!0)("weight",t.FontWeight.BOLD),I.Gb(1),I.zc("amount",e.entry.status===t.EntryStatusApi.BOUGHT?e.entry.sellPrice:e.contest.prize)("currencyCode",e.contest.currency.code)("flShowMobile",!0)}}function re(e,t){if(1&e&&I.Zc(0,se,3,7,"ng-container",0),2&e){const e=t.$implicit;I.rc(3);const n=I.Mc(5);I.zc("ngIf",e.contest&&e.entry)("ngIfElse",n)}}function le(e,t){1&e&&(I.Yb(0,"fl-text"),I.cc(1,24),I.Xb())}function ue(e,t){1&e&&(I.Yb(0,"fl-text"),I.cc(1,25),I.Xb())}function be(e,t){if(1&e&&(I.Wb(0,22),I.Zc(1,le,2,0,"fl-text",23),I.Zc(2,ue,2,0,"fl-text",23),I.Vb()),2&e){const e=t.$implicit,n=I.rc(3);I.zc("ngSwitch",e.handoverStatus),I.Gb(1),I.zc("ngSwitchCase",n.ManageHandoverStatus.FOR_REVIEW),I.Gb(1),I.zc("ngSwitchCase",n.ManageHandoverStatus.IN_PROGRESS)}}function pe(e,t){if(1&e&&(I.Tb(0,"app-work-contest-actions",26),I.sc(1,"flAsync")),2&e){const e=t.$implicit,n=I.rc(3);I.zc("contest",e.contest)("handover",e)("size",n.ButtonSize.SMALL)("sizeTablet",n.ButtonSize.MINI)("user",I.tc(1,5,n.user$))}}function de(e,t){if(1&e){const e=I.Zb();I.Yb(0,"fl-table",6),I.nc("pageSelected",function(t){return I.Pc(e),I.rc(2).handlePageSelected(t)}),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Yb(3,"fl-table-col",7),I.Zc(4,ie,2,7,"ng-template",null,8,I.ad),I.Xb(),I.Yb(6,"fl-table-col",9),I.Zc(7,ae,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(9,"fl-table-col",10),I.Zc(10,ce,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(12,"fl-table-col",11),I.Zc(13,re,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(15,"fl-table-col",12),I.Zc(16,be,3,3,"ng-template",null,8,I.ad),I.Xb(),I.Yb(18,"fl-table-col",13),I.Zc(19,pe,2,7,"ng-template",null,8,I.ad),I.Xb(),I.Tb(21,"fl-table-expandable-content"),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc();I.zc("compactPagination",!0)("dataSource",e)("expandable",!0)("expandableBodyCompact",!0)("flMarginBottom",t.Margin.SMALL)("initialPage",I.tc(1,19,t.currentPage$))("itemsPerPage",I.tc(2,21,t.itemsPerPage$))("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",3),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.SHOW_EXPANDABLE),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.SHOW_EXPANDABLE),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_RIGHT),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_LEFT)("flHideTablet",!0),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_ACTION)}}function he(e,t){if(1&e&&I.Tb(0,"app-manage-empty-table",27),2&e){const e=I.rc(2);I.zc("tableType",e.ManageTableType.CONTEST)("viewType",e.ManageViewType.FREELANCER)}}function ge(e,t){if(1&e&&(I.Wb(0),I.Yb(1,"fl-bit"),I.Zc(2,de,22,23,"fl-table",4),I.Xb(),I.Zc(3,he,1,2,"ng-template",null,5,I.ad),I.Vb()),2&e){const e=t.ngIf,n=I.Mc(4);I.Gb(2),I.zc("ngIf",e.length>0)("ngIfElse",n)}}const fe=function(e,t,n){return[e,t,n]};function me(e,t){if(1&e&&(I.Tb(0,"app-manage-loading-table",28),I.sc(1,"flAsync"),I.sc(2,"flAsync")),2&e){const e=I.rc();let t=null;I.zc("columnPlacement",I.Gc(8,fe,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("columns",e.columns)("error",null==(t=I.tc(1,4,e.viewStatus$))?null:t.error)("rows",I.tc(2,6,e.itemsPerPage$))}}function Te(e,t){1&e&&I.Tb(0,"fl-loading-text",29),2&e&&I.zc("rows",1)("padded",!1)}const Se=function(e,t){return[e,t]};let ye=(()=>{class e{constructor(e,t,n,i,a){this.anchorScroll=e,this.auth=t,this.datastore=n,this.route=i,this.tracking=a,this.ButtonSize=h.a,this.EntryStatusApi=y.EntryStatusApi,this.FontColor=m.a,this.FontWeight=T.c,this.ManageHandoverStatus=d.a,this.ManageTableType=P.d,this.ManageViewType=P.f,this.Margin=g.a,this.ResponsiveColumnPlacement=f.a,this.TableColumnPaddingSize=f.c,this.TablePaginationPosition=f.h,this.TextSize=T.f,this.currentPageSubject$=new C.a(1),this.columns=[6,void 0,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.currentPage$=Object(S.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(z.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(E.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=O.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(z.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(v.b)(t+P.g,P.h)*this.filterShowUrlParam(e.get("show")))),Object(E.a)(),Object(A.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new C.a(P.a*P.h),this.user$=this.datastore.document("usersSelf",this.auth.getUserId()).valueChanges();const e=this.route.queryParams.pipe(Object(z.a)(({query:e=""})=>({query:e})),Object(A.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewContestHandovers",t=>t.where("role","==",y.HandoverUserRoleApi.SELLER).where("buyerConfirmed","==",!1).search(e).limit(this.limit$)),n=t.valueChanges();this.contestsCollection=this.datastore.collection("contests",n.pipe(Object(b.a)("contestId"))),this.entriesCollection=this.datastore.collection("contestEntries",n.pipe(Object(b.a)("entryId")));const i=this.contestsCollection.valueChanges(),a=this.entriesCollection.valueChanges();this.viewStatus$=t.status$,this.awarded$=O.a([n,i.pipe(Object(p.a)()),a.pipe(Object(p.a)())]).pipe(Object(z.a)(([e,t,n])=>e.map(e=>Object.assign(Object.assign({},e),{contest:t.find(t=>e.contestId===t.id),entry:n.find(t=>e.entryId===t.id)}))))}handlePageSelected(e){this.tracking.trackCustomEvent("ManagePendingContestsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:P.b,onlyIfNeeded:!0})}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(S.s)(P.k.find(t=>t===e)))&&void 0!==t?t:P.a}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(w.a),I.Sb(M.a),I.Sb(L.a),I.Sb(l.a),I.Sb(R.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:7,vars:8,consts:function(){let e,t,n,i,a,o,c,s;return e="Contest Name",t="Client",n="Winning Entry",i="Prize",a="Status",o="Actions",c=" For Review ",s=" In Progress ",[[4,"ngIf","ngIfElse"],["unready",""],["loadingText",""],[3,"collectionStatuses"],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["emptyTable",""],[3,"compactPagination","dataSource","expandable","expandableBodyCompact","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],["title",e,3,"columnPlacement","gridWidth"],["cell",""],["title",t,3,"columnPlacement"],["title",n,3,"columnPlacement"],["title",i,3,"columnPlacement"],["title",a,3,"columnPlacement","flHideTablet"],["title",o,3,"columnPlacement"],[3,"projectId","seoUrl","size","sizeTablet","tableType","title",4,"ngIf","ngIfElse"],[3,"flShowMobile","size","sizeTablet","userId","username"],[3,"projectId","seoUrl","size","sizeTablet","tableType","title"],[3,"userId","username"],[3,"maxLines",4,"ngIf","ngIfElse"],[3,"maxLines"],[3,"amount","currencyCode","flHideMobile","weight"],[3,"amount","currencyCode","flShowMobile"],[3,"ngSwitch"],[4,"ngSwitchCase"],c,s,[3,"contest","handover","size","sizeTablet","user"],[3,"tableType","viewType"],[3,"columnPlacement","columns","error","rows"],[3,"rows","padded"]]},template:function(e,t){if(1&e&&(I.Zc(0,ge,5,2,"ng-container",0),I.sc(1,"flAsync"),I.Zc(2,me,3,12,"ng-template",null,1,I.ad),I.Zc(4,Te,1,2,"ng-template",null,2,I.ad),I.Tb(6,"app-manage-error-toast",3)),2&e){const e=I.Mc(3);I.zc("ngIf",I.tc(1,3,t.awarded$))("ngIfElse",e),I.Gb(6),I.zc("collectionStatuses",I.Fc(5,Se,t.contestsCollection.status$,t.entriesCollection.status$))}},directives:[i.q,_.a,k.a,f.e,g.b,f.b,$.a,f.g,j.a,N.a,T.e,B.a,i.s,i.t,J,K.a,ee.a,te.a],pipes:[Z.a],encapsulation:2}),e})();var Pe=n("pZRy");function Ce(e,t){if(1&e&&I.Tb(0,"app-manage-project-title",11),2&e){const e=t.$implicit,n=I.rc(3);I.zc("projectId",e.id)("seoUrl",e.seoUrl)("size",n.TextSize.SMALL)("sizeTablet",n.TextSize.XSMALL)("tableType",n.ManageTableType.CONTEST)("title",e.title)}}function Oe(e,t){1&e&&(I.Wb(0),I.cc(1,15),I.Vb())}function ze(e,t){1&e&&(I.Wb(0),I.cc(1,16),I.Vb())}function Ee(e,t){if(1&e&&(I.Yb(0,"fl-text",12),I.bd(1),I.Yb(2,"fl-text",13),I.Zc(3,Oe,2,0,"ng-container",0),I.Zc(4,ze,2,0,"ng-template",null,14,I.ad),I.Xb(),I.Xb()),2&e){const e=t.$implicit,n=I.Mc(5),i=I.rc(3);I.zc("size",i.TextSize.XSMALL),I.Gb(1),I.dd(" ",e.entryCount," "),I.Gb(1),I.zc("color",i.FontColor.INHERIT)("flShowMobile",!0)("fontType",i.FontType.SPAN)("size",i.TextSize.INHERIT),I.Gb(1),I.zc("ngIf",1!==e.entryCount)("ngIfElse",n)}}function Ae(e,t){if(1&e&&(I.Tb(0,"app-manage-currency",17),I.Tb(1,"app-manage-currency",18)),2&e){const e=t.$implicit,n=I.rc(3);I.zc("amount",e.prize)("currencyCode",e.currencyCode)("flHideMobile",!0)("weight",n.FontWeight.BOLD),I.Gb(1),I.zc("amount",e.prize)("flShowMobile",!0)("currencyCode",e.currencyCode)}}function ve(e,t){1&e&&(I.Wb(0),I.cc(1,24),I.Vb())}function Ie(e,t){1&e&&(I.Wb(0),I.cc(1,25),I.Vb())}function we(e,t){if(1&e&&(I.Yb(0,"fl-bit",21),I.Zc(1,ve,2,0,"ng-container",0),I.Zc(2,Ie,2,0,"ng-template",null,22,I.ad),I.Tb(4,"fl-relative-time",23),I.Xb()),2&e){const e=I.Mc(3),t=I.rc().$implicit,n=I.rc(3);I.zc("flShowMobile",!0),I.Gb(1),I.zc("ngIf",t.timeEnded>n.currentTimestamp)("ngIfElse",e),I.Gb(3),I.zc("date",t.timeEnded)("live",!1)("size",n.TextSize.XXSMALL)}}function Me(e,t){if(1&e&&(I.Tb(0,"fl-relative-time",19),I.Zc(1,we,5,6,"fl-bit",20)),2&e){const e=t.$implicit,n=I.rc(3);I.zc("color",n.FontColor.DARK)("date",e.timeEnded)("flHideMobile",!0)("live",!1)("size",n.TextSize.XSMALL),I.Gb(1),I.zc("ngIf",e.timeEnded)}}function Le(e,t){if(1&e&&(I.Tb(0,"app-work-contest-actions",26),I.sc(1,"flAsync")),2&e){const e=t.$implicit,n=I.rc(3);I.zc("contest",e)("size",n.ButtonSize.SMALL)("sizeTablet",n.ButtonSize.MINI)("user",I.tc(1,4,n.user$))}}function Re(e,t){if(1&e){const e=I.Zb();I.Yb(0,"fl-table",4),I.nc("pageSelected",function(t){return I.Pc(e),I.rc(2).handlePageSelected(t)}),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Yb(3,"fl-table-col",5),I.Zc(4,Ce,1,6,"ng-template",null,6,I.ad),I.Xb(),I.Yb(6,"fl-table-col",7),I.Zc(7,Ee,6,8,"ng-template",null,6,I.ad),I.Xb(),I.Yb(9,"fl-table-col",8),I.Zc(10,Ae,2,7,"ng-template",null,6,I.ad),I.Xb(),I.Yb(12,"fl-table-col",9),I.Zc(13,Me,2,6,"ng-template",null,6,I.ad),I.Xb(),I.Yb(15,"fl-table-col",10),I.Zc(16,Le,2,6,"ng-template",null,6,I.ad),I.Xb(),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc();I.zc("compactPagination",!0)("dataSource",e)("flMarginBottom",t.Margin.SMALL)("initialPage",I.tc(1,15,t.currentPage$))("itemsPerPage",I.tc(2,17,t.itemsPerPage$))("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",5),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_LEFT),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_RIGHT),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.TOP),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_ACTION)}}function _e(e,t){if(1&e&&I.Tb(0,"app-manage-empty-table",27),2&e){const e=I.rc(2);I.zc("tableType",e.ManageTableType.CONTEST)("viewType",e.ManageViewType.FREELANCER)}}function ke(e,t){if(1&e&&(I.Wb(0),I.Yb(1,"fl-bit"),I.Zc(2,Re,18,19,"fl-table",2),I.Zc(3,_e,1,2,"ng-template",null,3,I.ad),I.Xb(),I.Vb()),2&e){const e=t.ngIf,n=I.Mc(4);I.Gb(2),I.zc("ngIf",e.length>0)("ngIfElse",n)}}const $e=function(e,t,n,i){return[e,t,n,i]};function je(e,t){if(1&e&&(I.Tb(0,"app-manage-loading-table",28),I.sc(1,"flAsync"),I.sc(2,"flAsync")),2&e){const e=I.rc();let t=null;I.zc("columnPlacement",I.Hc(8,$e,e.ResponsiveColumnPlacement.TOP,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("columns",e.columns)("error",null==(t=I.tc(1,4,e.viewStatus$))?null:t.error)("rows",I.tc(2,6,e.itemsPerPage$))}}let Ne=(()=>{class e{constructor(e,t,n,i,a){this.anchorScroll=e,this.auth=t,this.datastore=n,this.route=i,this.tracking=a,this.ButtonSize=h.a,this.FontColor=m.a,this.FontType=T.b,this.FontWeight=T.c,this.Margin=g.a,this.ManageTableType=P.d,this.ManageViewType=P.f,this.ResponsiveColumnPlacement=f.a,this.TableColumnPaddingSize=f.c,this.TablePaginationPosition=f.h,this.TextSize=T.f,this.currentPageSubject$=new C.a(1),this.currentTimestamp=Date.now(),this.columns=[5,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.currentPage$=Object(S.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(z.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(E.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=O.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(z.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(v.b)(t+P.g,P.h)*this.filterShowUrlParam(e.get("show")))),Object(E.a)(),Object(A.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new C.a(P.a*P.h),this.user$=this.datastore.document("usersSelf",this.auth.getUserId()).valueChanges();const e=O.a([this.route.queryParams,this.user$]).pipe(Object(z.a)(([{query:e=""},t])=>({query:e,entrant:t.id})),Object(A.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewContests",t=>t.where("status","in",[y.ContestStatusApi.ACTIVE]).search(e).limit(this.limit$));this.viewStatus$=t.status$,this.contests$=t.valueChanges()}handlePageSelected(e){this.tracking.trackCustomEvent("ManageOpenContestsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:P.b,onlyIfNeeded:!0})}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(S.s)(P.k.find(t=>t===e)))&&void 0!==t?t:P.a}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(w.a),I.Sb(M.a),I.Sb(L.a),I.Sb(l.a),I.Sb(R.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:4,vars:4,consts:function(){let e,t,n,i,a,o,c,s,r;return e="Contest Name",t="Entries",n="Prize",i="Deadline",a="Action",o=" entries ",c=" entry ",s=" Deadline ",r=" Deadline was ",[[4,"ngIf","ngIfElse"],["unready",""],[3,"compactPagination","dataSource","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["emptyTable",""],[3,"compactPagination","dataSource","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],["title",e,3,"columnPlacement","gridWidth"],["cell",""],["title",t,3,"columnPlacement"],["title",n,3,"columnPlacement"],["title",i,3,"columnPlacement"],["title",a,3,"columnPlacement"],[3,"projectId","seoUrl","size","sizeTablet","tableType","title"],[3,"size"],[3,"color","flShowMobile","fontType","size"],["oneEntryMobile",""],o,c,[3,"amount","currencyCode","flHideMobile","weight"],[3,"amount","flShowMobile","currencyCode"],[3,"color","date","flHideMobile","live","size"],[3,"flShowMobile",4,"ngIf"],[3,"flShowMobile"],["pastContest",""],[3,"date","live","size"],s,r,[3,"contest","size","sizeTablet","user"],[3,"tableType","viewType"],[3,"columnPlacement","columns","error","rows"]]},template:function(e,t){if(1&e&&(I.Zc(0,ke,5,2,"ng-container",0),I.sc(1,"flAsync"),I.Zc(2,je,3,13,"ng-template",null,1,I.ad)),2&e){const e=I.Mc(3);I.zc("ngIf",I.tc(1,2,t.contests$))("ngIfElse",e)}},directives:[i.q,k.a,f.e,g.b,f.b,N.a,T.e,$.a,B.a,Pe.b,J,K.a,ee.a],pipes:[Z.a],encapsulation:2}),e})();function Be(e,t){if(1&e&&I.Tb(0,"app-manage-project-title",15),2&e){const e=I.rc().$implicit,t=I.rc(3);I.zc("projectId",e.contest.id)("seoUrl",e.contest.seoUrl)("size",t.TextSize.SMALL)("sizeTablet",t.TextSize.XSMALL)("tableType",t.ManageTableType.CONTEST)("title",e.contest.title)}}function Ge(e,t){if(1&e&&I.Zc(0,Be,1,6,"app-manage-project-title",14),2&e){const e=t.$implicit;I.rc(2);const n=I.Mc(4);I.zc("ngIf",e.contest)("ngIfElse",n)}}function Ve(e,t){if(1&e&&I.Tb(0,"app-manage-username",16),2&e){const e=t.$implicit,n=I.rc(3);I.zc("size",n.TextSize.SMALL)("sizeTablet",n.TextSize.XSMALL)("userId",e.buyerDetails.id)("username",e.buyerDetails.username)}}function xe(e,t){if(1&e&&(I.Yb(0,"fl-text",18),I.bd(1),I.Xb()),2&e){const e=I.rc().$implicit;I.zc("maxLines",2),I.Gb(1),I.ed(" #",e.entry.number," ",e.entry.title?"- "+e.entry.title:""," ")}}function Fe(e,t){if(1&e&&I.Zc(0,xe,2,3,"fl-text",17),2&e){const e=t.$implicit;I.rc(2);const n=I.Mc(4);I.zc("ngIf",e.entry)("ngIfElse",n)}}function De(e,t){if(1&e&&(I.Wb(0),I.Tb(1,"app-manage-currency",19),I.Tb(2,"app-manage-currency",20),I.Vb()),2&e){const e=I.rc().$implicit,t=I.rc(3);I.Gb(1),I.zc("amount",e.entry.status===t.EntryStatusApi.BOUGHT&&e.entry.sellPrice?e.entry.sellPrice:e.contest.prize)("currencyCode",e.contest.currency.code)("flHideMobile",!0)("weight",t.FontWeight.BOLD),I.Gb(1),I.zc("amount",e.entry.status===t.EntryStatusApi.BOUGHT&&e.entry.sellPrice?e.entry.sellPrice:e.contest.prize)("currencyCode",e.contest.currency.code)("flShowMobile",!0)}}function He(e,t){if(1&e&&I.Zc(0,De,3,7,"ng-container",0),2&e){const e=t.$implicit;I.rc(2);const n=I.Mc(4);I.zc("ngIf",e.contest&&e.entry)("ngIfElse",n)}}function Xe(e,t){if(1&e&&(I.Tb(0,"fl-relative-time",21),I.Yb(1,"fl-bit",22),I.Wb(2),I.cc(3,23),I.Vb(),I.Tb(4,"fl-relative-time",24),I.Xb()),2&e){const e=t.$implicit,n=I.rc(3);I.zc("color",n.FontColor.DARK)("flHideMobile",!0)("date",e.buyerConfirmedDate)("live",!1)("size",n.TextSize.XSMALL),I.Gb(1),I.zc("flHideDesktop",!0),I.Gb(3),I.zc("color",n.FontColor.DARK)("date",e.buyerConfirmedDate)("live",!1)("size",n.TextSize.XXSMALL)}}function We(e,t){if(1&e&&I.Tb(0,"app-work-contest-actions",25),2&e){const e=t.$implicit,n=I.rc(2).ngIf,i=I.rc();I.zc("contest",e.contest)("handover",e)("isNda",!(null==e.contest||!e.contest.timeSigned))("size",i.ButtonSize.SMALL)("sizeTablet",i.ButtonSize.MINI)("user",n.user)}}function Ye(e,t){if(1&e){const e=I.Zb();I.Yb(0,"fl-table",6),I.nc("pageSelected",function(t){return I.Pc(e),I.rc(2).handlePageSelected(t)}),I.sc(1,"flAsync"),I.sc(2,"flAsync"),I.Yb(3,"fl-table-col",7),I.Zc(4,Ge,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(6,"fl-table-col",9),I.Zc(7,Ve,1,4,"ng-template",null,8,I.ad),I.Xb(),I.Yb(9,"fl-table-col",10),I.Zc(10,Fe,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(12,"fl-table-col",11),I.Zc(13,He,1,2,"ng-template",null,8,I.ad),I.Xb(),I.Yb(15,"fl-table-col",12),I.Zc(16,Xe,5,10,"ng-template",null,8,I.ad),I.Xb(),I.Yb(18,"fl-table-col",13),I.Zc(19,We,1,6,"ng-template",null,8,I.ad),I.Xb(),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc();I.zc("compactPagination",!0)("dataSource",e.handovers)("flMarginBottom",t.Margin.SMALL)("initialPage",I.tc(1,18,t.currentPage$))("itemsPerPage",I.tc(2,20,t.itemsPerPage$))("mobileViewCompact",!0)("paddingSize",t.TableColumnPaddingSize.MID)("paginationPosition",t.TablePaginationPosition.RIGHT)("rowTrackBy",t.rowTrackBy),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.CENTER)("gridWidth",3),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_LEFT),I.Gb(3),I.zc("flHideMobile",!0)("gridWidth",3),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_RIGHT),I.Gb(3),I.zc("flHideTablet",!0)("gridWidth",2),I.Gb(3),I.zc("columnPlacement",t.ResponsiveColumnPlacement.BOTTOM_ACTION)}}function Ze(e,t){1&e&&I.Tb(0,"fl-loading-text",26),2&e&&I.zc("rows",1)("padded",!1)}function Ue(e,t){if(1&e&&I.Tb(0,"app-manage-empty-table",27),2&e){const e=I.rc(2);I.zc("tableType",e.ManageTableType.CONTEST)("viewType",e.ManageViewType.FREELANCER)}}function qe(e,t){if(1&e&&(I.Wb(0),I.Yb(1,"fl-bit"),I.Zc(2,Ye,21,22,"fl-table",3),I.Zc(3,Ze,1,2,"ng-template",null,4,I.ad),I.Zc(5,Ue,1,2,"ng-template",null,5,I.ad),I.Xb(),I.Vb()),2&e){const e=t.ngIf,n=I.Mc(6);I.Gb(2),I.zc("ngIf",e.handovers.length>0)("ngIfElse",n)}}const Qe=function(e,t,n){return[e,t,n]};function Je(e,t){if(1&e&&(I.Tb(0,"app-manage-loading-table",28),I.sc(1,"flAsync"),I.sc(2,"flAsync")),2&e){const e=I.rc();let t=null;I.zc("columnPlacement",I.Gc(8,Qe,e.ResponsiveColumnPlacement.CENTER,e.ResponsiveColumnPlacement.BOTTOM_ACTION,e.ResponsiveColumnPlacement.BOTTOM_ACTION))("columns",e.columns)("error",null==(t=I.tc(1,4,e.viewStatus$))?null:t.error)("rows",I.tc(2,6,e.itemsPerPage$))}}const Ke=function(e,t){return[e,t]};let et=(()=>{class e{constructor(e,t,n,i,a){this.anchorScroll=e,this.auth=t,this.datastore=n,this.route=i,this.tracking=a,this.ButtonSize=h.a,this.EntryStatusApi=y.EntryStatusApi,this.FontColor=m.a,this.FontWeight=T.c,this.ManageTableType=P.d,this.ManageViewType=P.f,this.Margin=g.a,this.ResponsiveColumnPlacement=f.a,this.TableColumnPaddingSize=f.c,this.TablePaginationPosition=f.h,this.TextSize=T.f,this.currentPageSubject$=new C.a(1),this.columns=[3,void 0,void 0,void 0,void 0,void 0]}ngOnDestroy(){this.itemsPerPageSubscription&&this.itemsPerPageSubscription.unsubscribe()}ngOnInit(){this.currentPage$=Object(S.t)(this.currentPageSubject$),this.itemsPerPage$=this.route.queryParamMap.pipe(Object(z.a)(e=>this.filterShowUrlParam(e.get("show"))),Object(E.a)()),this.itemsPerPageSubscription=this.itemsPerPage$.subscribe(e=>{this.currentPageSubject$.next(1)}),this.limit$=O.a([this.route.queryParamMap,this.currentPageSubject$]).pipe(Object(z.a)(([e,t])=>Math.max(this.maxLimitSubject$.getValue(),Object(v.b)(t+P.g,P.h)*this.filterShowUrlParam(e.get("show")))),Object(E.a)(),Object(A.a)(e=>{this.maxLimitSubject$.next(Math.max(e,this.maxLimitSubject$.getValue()))})),this.maxLimitSubject$=new C.a(P.a*P.h),this.user$=this.datastore.document("usersSelf",this.auth.getUserId()).valueChanges();const e=this.route.queryParams.pipe(Object(z.a)(({query:e=""})=>({query:e})),Object(A.a)(()=>this.currentPageSubject$.next(1))),t=this.datastore.collection("manageViewContestHandovers",t=>t.where("role","==",y.HandoverUserRoleApi.SELLER).where("sellerSignedContract","==",!0).where("sellerConfirmed","==",!0).where("buyerConfirmed","==",!0).search(e).limit(this.limit$)),n=t.valueChanges();this.contestsCollection=this.datastore.collection("contests",n.pipe(Object(b.a)("contestId"))),this.entriesCollection=this.datastore.collection("contestEntries",n.pipe(Object(b.a)("entryId")));const i=this.contestsCollection.valueChanges(),a=this.entriesCollection.valueChanges();this.viewStatus$=t.status$;const o=O.a([n,i.pipe(Object(p.a)()),a.pipe(Object(p.a)())]).pipe(Object(z.a)(([e,t,n])=>e.map(e=>Object.assign(Object.assign({},e),{contest:t.find(t=>e.contestId===t.id),entry:n.find(t=>e.entryId===t.id)}))));this.tableData$=O.a([o,this.user$]).pipe(Object(z.a)(([e,t])=>({handovers:e,user:t})))}handlePageSelected(e){this.tracking.trackCustomEvent("ManagePastContestsOnPageChange","ManageWorkTables",{page:e,limit:this.maxLimitSubject$.getValue()}),this.currentPageSubject$.next(e),this.anchorScroll.scrollTo({name:P.b,onlyIfNeeded:!0})}rowTrackBy(e,t){return e}filterShowUrlParam(e){var t;return null!==(t=Object(S.s)(P.k.find(t=>t===e)))&&void 0!==t?t:P.a}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(w.a),I.Sb(M.a),I.Sb(L.a),I.Sb(l.a),I.Sb(R.a))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:5,vars:8,consts:function(){let e,t,n,i,a,o,c;return e="Contest Name",t="Client",n="My Entry",i="Prize",a="Completed Date",o="Action",c=" Completed ",[[4,"ngIf","ngIfElse"],["unready",""],[3,"collectionStatuses"],[3,"compactPagination","dataSource","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected",4,"ngIf","ngIfElse"],["loadingText",""],["emptyTable",""],[3,"compactPagination","dataSource","flMarginBottom","initialPage","itemsPerPage","mobileViewCompact","paddingSize","paginationPosition","rowTrackBy","pageSelected"],["title",e,3,"columnPlacement","gridWidth"],["cell",""],["title",t,3,"columnPlacement"],["title",n,3,"flHideMobile","gridWidth"],["title",i,3,"columnPlacement"],["title",a,3,"flHideTablet","gridWidth"],["title",o,3,"columnPlacement"],[3,"projectId","seoUrl","size","sizeTablet","tableType","title",4,"ngIf","ngIfElse"],[3,"projectId","seoUrl","size","sizeTablet","tableType","title"],[3,"size","sizeTablet","userId","username"],[3,"maxLines",4,"ngIf","ngIfElse"],[3,"maxLines"],[3,"amount","currencyCode","flHideMobile","weight"],[3,"amount","currencyCode","flShowMobile"],[3,"color","flHideMobile","date","live","size"],[3,"flHideDesktop"],c,[3,"color","date","live","size"],[3,"contest","handover","isNda","size","sizeTablet","user"],[3,"rows","padded"],[3,"tableType","viewType"],[3,"columnPlacement","columns","error","rows"]]},template:function(e,t){if(1&e&&(I.Zc(0,qe,7,2,"ng-container",0),I.sc(1,"flAsync"),I.Zc(2,Je,3,12,"ng-template",null,1,I.ad),I.Tb(4,"app-manage-error-toast",2)),2&e){const e=I.Mc(3);I.zc("ngIf",I.tc(1,3,t.tableData$))("ngIfElse",e),I.Gb(4),I.zc("collectionStatuses",I.Fc(5,Ke,t.contestsCollection.status$,t.entriesCollection.status$))}},directives:[i.q,_.a,k.a,f.e,g.b,f.b,$.a,N.a,j.a,T.e,B.a,Pe.b,J,te.a,K.a,ee.a],pipes:[Z.a],encapsulation:2}),e})();var tt=n("S567"),nt=n("dAKu"),it=n("25G/"),at=n("mrSG"),ot=n("IzEk"),ct=n("eIep"),st=n("L1P6");let rt=(()=>{class e{constructor(e){this.localStorage=e}canActivateChild(e,t){return this.localStorage.get("manageRecentTable").pipe(Object(ot.a)(1),Object(ct.a)(e=>Object(at.a)(this,void 0,void 0,function*(){const n=null!=e?e:{employerTable:"/manage/jobs/projects/open",freelancerTable:"/manage/work/projects/open",insourceTable:"/manage/insource/projects/open"},i=t.url.split("?")[0];return yield this.localStorage.set("manageRecentTable",Object.assign(Object.assign({},n),{freelancerTable:i,manageTable:i})),!0})))}}return e.\u0275fac=function(t){return new(t||e)(I.jc(st.a))},e.\u0275prov=I.Ob({token:e,factory:e.\u0275fac}),e})();var lt=n("J344"),ut=n("1rB0"),bt=n("XNiG"),pt=n("VRyK"),dt=n("pLZG"),ht=n("Kj3r"),gt=n("zp1y"),ft=n("Zy1z"),mt=n("s7LF"),Tt=n("eiII"),St=n("KUXl"),yt=n("ni7p"),Pt=n("3GW4"),Ct=n("XnxA"),Ot=n("DSso"),zt=n("rdsd");function Et(e,t){if(1&e){const e=I.Zb();I.Yb(0,"app-manage-top-nav",11),I.nc("onSearchSubmit",function(){return I.Pc(e),I.rc(5).submit()}),I.sc(1,"flAsync"),I.Xb()}if(2&e){const e=I.rc().ngIf,t=I.rc().ngIf,n=I.rc().ngIf,i=I.rc().ngIf,a=I.rc();I.zc("itemsPerPageControl",n)("searchControl",t)("tableType",i)("tableView",I.tc(1,6,a.activeTableView$))("viewControl",e)("viewType",a.ManageViewType.FREELANCER)}}function At(e,t){if(1&e&&(I.Wb(0),I.Zc(1,Et,2,8,"app-manage-top-nav",10),I.Vb()),2&e){const e=t.ngIf,n=I.rc().ngIf,i=I.rc().ngIf,a=I.rc(2);I.Gb(1),I.zc("ngIf",a.isFormControl(i)&&a.isFormControl(n)&&a.isFormControl(e))}}function vt(e,t){if(1&e&&(I.Wb(0),I.Zc(1,At,2,1,"ng-container",9),I.Vb()),2&e){const e=I.rc(3);I.Gb(1),I.zc("ngIf",e.searchForm.get("filter"))}}function It(e,t){if(1&e&&(I.Wb(0),I.Zc(1,vt,2,1,"ng-container",9),I.Vb()),2&e){const e=I.rc(2);I.Gb(1),I.zc("ngIf",e.searchForm.get("query"))}}function wt(e,t){if(1&e&&(I.Wb(0),I.Zc(1,It,2,1,"ng-container",9),I.Vb()),2&e){const e=I.rc();I.Gb(1),I.zc("ngIf",e.searchForm.get("show"))}}const Mt=[{path:"",component:(()=>{class e{constructor(e,t,n){this.activatedRoute=e,this.fb=t,this.router=n,this.isFormControl=S.l,this.ManageTableType=P.d,this.ManageTableView=P.e,this.ManageViewType=P.f,this.QueryParamsHandling=lt.a,this.MANAGE_TABLE_ANCHOR=P.b,this.rootPath="/manage/work",this.activeTableSubject$=new C.a(void 0),this.activeTableViewSubject$=new C.a(void 0),this.submitSubject$=new bt.a}ngOnInit(){this.searchForm=this.fb.group({query:this.fb.control("",[Object(ut.D)(/[a-zA-Z0-9 ]*/,"Please enter a valid project title or username")]),filter:this.fb.control(P.c.ALL,[Object(ut.E)("Please enter a valid filter")]),show:this.fb.control(P.k[0],[Object(ut.E)("Please enter a valid number of records to show"),Object(ut.r)(1,"Number of records to show must be at least 1")])}),this.activeTable$=this.activeTableSubject$.asObservable().pipe(Object(dt.a)(S.h),Object(E.a)()),this.activeTableView$=this.activeTableViewSubject$.asObservable().pipe(Object(dt.a)(S.h),Object(E.a)());const e=this.searchForm.valueChanges.pipe(Object(ht.a)(P.i)),t=this.submitSubject$.pipe(Object(gt.a)(this.searchForm.valueChanges),Object(z.a)(([,e])=>e)),n=pt.a(e,t).pipe(Object(gt.a)(this.activeTable$),Object(z.a)(([e,t])=>t===P.d.PROJECT?e:{query:e.query,show:e.show}));this.searchFilterSubscription=n.pipe(Object(gt.a)(this.activatedRoute.queryParams)).subscribe(([e,t])=>{this.router.navigate([],{queryParams:Object.assign(Object.assign({},e),{w:t.w,overrides:t.overrides}),replaceUrl:!0})}),this.activeTableSubscription=this.activeTable$.pipe(Object(E.a)(),Object(ft.a)()).subscribe(()=>{this.submit()}),this.clearSearchSubscription=this.activatedRoute.queryParams.pipe(Object(dt.a)(e=>!e.query&&!e.filter)).subscribe(()=>{this.searchForm.patchValue(P.j),this.submit()}),this.activeTable$.pipe(Object(ot.a)(1)).toPromise().then(e=>{const t=this.activatedRoute.snapshot.queryParams;(t.query||t.filter||t.show)&&this.searchForm.patchValue({query:t.query||"",filter:e===P.d.PROJECT&&P.l.includes(t.filter)?t.filter:P.c.ALL,show:P.k.includes(t.show)?t.show:P.k[0]})})}ngOnDestroy(){this.searchFilterSubscription&&this.searchFilterSubscription.unsubscribe(),this.activeTableSubscription&&this.activeTableSubscription.unsubscribe(),this.clearSearchSubscription&&this.clearSearchSubscription.unsubscribe()}handleTabSelected(e,t){this.activeTableSubject$.next(e),this.activeTableViewSubject$.next(t)}submit(){this.submitSubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(I.Sb(l.a),I.Sb(mt.e),I.Sb(l.e))},e.\u0275cmp=I.Mb({type:e,selectors:[["ng-component"]],decls:13,vars:17,consts:function(){let e,t,n,i,a,o;return e="Bids",t="Current Work",n="Past Work",i="Contest Entries",a="Pending Prizes",o="Prizes Released",[["flTrackingSection","ManageWorkTables"],[3,"col"],[3,"name"],["flTrackingLabel","ManageWorkTab.Bids","title",e,3,"queryParamsHandling","link","onSelected"],["flTrackingLabel","ManageWorkTab.CurrentWork","title",t,3,"queryParamsHandling","link","onSelected"],["flTrackingLabel","ManageWorkTab.PastWork","title",n,3,"queryParamsHandling","link","onSelected"],["flTrackingLabel","ManageWorkTab.ContestEntries","title",i,3,"queryParamsHandling","link","onSelected"],["flTrackingLabel","ManageWorkTab.PendingPrizes","title",a,3,"queryParamsHandling","link","onSelected"],["flTrackingLabel","ManageWorkTab.PrizesReleased","title",o,3,"queryParamsHandling","link","onSelected"],[4,"ngIf"],[3,"itemsPerPageControl","searchControl","tableType","tableView","viewControl","viewType","onSearchSubmit",4,"ngIf"],[3,"itemsPerPageControl","searchControl","tableType","tableView","viewControl","viewType","onSearchSubmit"]]},template:function(e,t){1&e&&(I.Yb(0,"fl-grid",0),I.Yb(1,"fl-col",1),I.Tb(2,"fl-anchor-scroll",2),I.Yb(3,"fl-tabs"),I.Yb(4,"fl-tab-item",3),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.PROJECT,t.ManageTableView.OPEN)}),I.Xb(),I.Yb(5,"fl-tab-item",4),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.PROJECT,t.ManageTableView.ONGOING)}),I.Xb(),I.Yb(6,"fl-tab-item",5),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.PROJECT,t.ManageTableView.PAST)}),I.Xb(),I.Yb(7,"fl-tab-item",6),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.CONTEST,t.ManageTableView.OPEN)}),I.Xb(),I.Yb(8,"fl-tab-item",7),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.HANDOVER,t.ManageTableView.ONGOING)}),I.Xb(),I.Yb(9,"fl-tab-item",8),I.nc("onSelected",function(){return t.handleTabSelected(t.ManageTableType.HANDOVER,t.ManageTableView.PAST)}),I.Xb(),I.Xb(),I.Zc(10,wt,2,1,"ng-container",9),I.sc(11,"flAsync"),I.Tb(12,"router-outlet"),I.Xb(),I.Xb()),2&e&&(I.Gb(1),I.zc("col",12),I.Gb(1),I.zc("name",t.MANAGE_TABLE_ANCHOR),I.Gb(2),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/projects/open"),I.Gb(1),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/projects/ongoing"),I.Gb(1),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/projects/past"),I.Gb(1),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/contests/open"),I.Gb(1),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/contests/awarded"),I.Gb(1),I.zc("queryParamsHandling",t.QueryParamsHandling.PRESERVE)("link",t.rootPath+"/contests/past"),I.Gb(1),I.zc("ngIf",I.tc(11,15,t.activeTable$)))},directives:[Tt.a,St.a,yt.a,Pt.a,Ct.b,lt.b,Ot.a,i.q,l.j,zt.a],pipes:[Z.a],encapsulation:2}),e})(),canActivateChild:[u.a,rt],children:[{path:"projects/open",component:nt.a},{path:"projects/ongoing",component:tt.a},{path:"projects/past",component:it.a},{path:"contests/open",component:Ne},{path:"contests/awarded",component:ye},{path:"contests/past",component:et}]}];let Lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I.Qb({type:e}),e.\u0275inj=I.Pb({providers:[rt],imports:[[l.i.forChild(Mt)],l.i]}),e})();var Rt=n("/tL6");let _t=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I.Qb({type:e}),e.\u0275inj=I.Pb({imports:[[i.c,a.a,o.a,r.a,c.a,s.a,Lt,Rt.a]]}),e})()}}]);
//# sourceMappingURL=app-manage-work-work-module-es2015.83ee009f71f820cd9d7b.js.map